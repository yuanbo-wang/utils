(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function yr(i){const e=Object.create(null);for(const t of i.split(","))e[t]=1;return t=>t in e}const Q={},Pt=[],ke=()=>{},ra=()=>!1,sn=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&(i.charCodeAt(2)>122||i.charCodeAt(2)<97),vr=i=>i.startsWith("onUpdate:"),ge=Object.assign,Sr=(i,e)=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)},Fl=Object.prototype.hasOwnProperty,z=(i,e)=>Fl.call(i,e),N=Array.isArray,Zt=i=>an(i)==="[object Map]",Al=i=>an(i)==="[object Set]",B=i=>typeof i=="function",oe=i=>typeof i=="string",Lt=i=>typeof i=="symbol",ae=i=>i!==null&&typeof i=="object",sa=i=>(ae(i)||B(i))&&B(i.then)&&B(i.catch),Cl=Object.prototype.toString,an=i=>Cl.call(i),Pl=i=>an(i).slice(8,-1),Dl=i=>an(i)==="[object Object]",br=i=>oe(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,Qt=yr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),on=i=>{const e=Object.create(null);return t=>e[t]||(e[t]=i(t))},El=/-\w/g,lt=on(i=>i.replace(El,e=>e.slice(1).toUpperCase())),Ul=/\B([A-Z])/g,bt=on(i=>i.replace(Ul,"-$1").toLowerCase()),aa=on(i=>i.charAt(0).toUpperCase()+i.slice(1)),Dn=on(i=>i?`on${aa(i)}`:""),gt=(i,e)=>!Object.is(i,e),En=(i,...e)=>{for(let t=0;t<i.length;t++)i[t](...e)},oa=(i,e,t,n=!1)=>{Object.defineProperty(i,e,{configurable:!0,enumerable:!1,writable:n,value:t})},Il=i=>{const e=parseFloat(i);return isNaN(e)?i:e};let ls;const ln=()=>ls||(ls=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Tr(i){if(N(i)){const e={};for(let t=0;t<i.length;t++){const n=i[t],r=oe(n)?Rl(n):Tr(n);if(r)for(const s in r)e[s]=r[s]}return e}else if(oe(i)||ae(i))return i}const Ol=/;(?![^(]*\))/g,Ml=/:([^]+)/,Ll=/\/\*[^]*?\*\//g;function Rl(i){const e={};return i.replace(Ll,"").split(Ol).forEach(t=>{if(t){const n=t.split(Ml);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function _r(i){let e="";if(oe(i))e=i;else if(N(i))for(let t=0;t<i.length;t++){const n=_r(i[t]);n&&(e+=n+" ")}else if(ae(i))for(const t in i)i[t]&&(e+=t+" ");return e.trim()}const Nl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Bl=yr(Nl);function la(i){return!!i||i===""}/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ve;class $l{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ve,!e&&ve&&(this.index=(ve.scopes||(ve.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=ve;try{return ve=this,e()}finally{ve=t}}}on(){++this._on===1&&(this.prevScope=ve,ve=this)}off(){this._on>0&&--this._on===0&&(ve=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Vl(){return ve}let Z;const Un=new WeakSet;class fa{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ve&&ve.active&&ve.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Un.has(this)&&(Un.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ca(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,fs(this),da(this);const e=Z,t=Ue;Z=this,Ue=!0;try{return this.fn()}finally{ha(this),Z=e,Ue=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ar(e);this.deps=this.depsTail=void 0,fs(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Un.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Zn(this)&&this.run()}get dirty(){return Zn(this)}}let ua=0,ei,ti;function ca(i,e=!1){if(i.flags|=8,e){i.next=ti,ti=i;return}i.next=ei,ei=i}function wr(){ua++}function Fr(){if(--ua>0)return;if(ti){let e=ti;for(ti=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let i;for(;ei;){let e=ei;for(ei=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){i||(i=n)}e=t}}if(i)throw i}function da(i){for(let e=i.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function ha(i){let e,t=i.depsTail,n=t;for(;n;){const r=n.prevDep;n.version===-1?(n===t&&(t=r),Ar(n),kl(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}i.deps=e,i.depsTail=t}function Zn(i){for(let e=i.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(pa(e.dep.computed)||e.dep.version!==e.version))return!0;return!!i._dirty}function pa(i){if(i.flags&4&&!(i.flags&16)||(i.flags&=-17,i.globalVersion===li)||(i.globalVersion=li,!i.isSSR&&i.flags&128&&(!i.deps&&!i._dirty||!Zn(i))))return;i.flags|=2;const e=i.dep,t=Z,n=Ue;Z=i,Ue=!0;try{da(i);const r=i.fn(i._value);(e.version===0||gt(r,i._value))&&(i.flags|=128,i._value=r,e.version++)}catch(r){throw e.version++,r}finally{Z=t,Ue=n,ha(i),i.flags&=-3}}function Ar(i,e=!1){const{dep:t,prevSub:n,nextSub:r}=i;if(n&&(n.nextSub=r,i.prevSub=void 0),r&&(r.prevSub=n,i.nextSub=void 0),t.subs===i&&(t.subs=n,!n&&t.computed)){t.computed.flags&=-5;for(let s=t.computed.deps;s;s=s.nextDep)Ar(s,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function kl(i){const{prevDep:e,nextDep:t}=i;e&&(e.nextDep=t,i.prevDep=void 0),t&&(t.prevDep=e,i.nextDep=void 0)}let Ue=!0;const ma=[];function Xe(){ma.push(Ue),Ue=!1}function Je(){const i=ma.pop();Ue=i===void 0?!0:i}function fs(i){const{cleanup:e}=i;if(i.cleanup=void 0,e){const t=Z;Z=void 0;try{e()}finally{Z=t}}}let li=0;class Hl{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ga{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Z||!Ue||Z===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==Z)t=this.activeLink=new Hl(Z,this),Z.deps?(t.prevDep=Z.depsTail,Z.depsTail.nextDep=t,Z.depsTail=t):Z.deps=Z.depsTail=t,xa(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const n=t.nextDep;n.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=n),t.prevDep=Z.depsTail,t.nextDep=void 0,Z.depsTail.nextDep=t,Z.depsTail=t,Z.deps===t&&(Z.deps=n)}return t}trigger(e){this.version++,li++,this.notify(e)}notify(e){wr();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{Fr()}}}function xa(i){if(i.dep.sc++,i.sub.flags&4){const e=i.dep.computed;if(e&&!i.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)xa(n)}const t=i.dep.subs;t!==i&&(i.prevSub=t,t&&(t.nextSub=i)),i.dep.subs=i}}const Qn=new WeakMap,xt=Symbol(""),er=Symbol(""),fi=Symbol("");function fe(i,e,t){if(Ue&&Z){let n=Qn.get(i);n||Qn.set(i,n=new Map);let r=n.get(t);r||(n.set(t,r=new ga),r.map=n,r.key=t),r.track()}}function Ye(i,e,t,n,r,s){const a=Qn.get(i);if(!a){li++;return}const o=l=>{l&&l.trigger()};if(wr(),e==="clear")a.forEach(o);else{const l=N(i),u=l&&br(t);if(l&&t==="length"){const f=Number(n);a.forEach((c,d)=>{(d==="length"||d===fi||!Lt(d)&&d>=f)&&o(c)})}else switch((t!==void 0||a.has(void 0))&&o(a.get(t)),u&&o(a.get(fi)),e){case"add":l?u&&o(a.get("length")):(o(a.get(xt)),Zt(i)&&o(a.get(er)));break;case"delete":l||(o(a.get(xt)),Zt(i)&&o(a.get(er)));break;case"set":Zt(i)&&o(a.get(xt));break}}Fr()}function _t(i){const e=Y(i);return e===i?e:(fe(e,"iterate",fi),He(i)?e:e.map(Te))}function Cr(i){return fe(i=Y(i),"iterate",fi),i}const Gl={__proto__:null,[Symbol.iterator](){return In(this,Symbol.iterator,Te)},concat(...i){return _t(this).concat(...i.map(e=>N(e)?_t(e):e))},entries(){return In(this,"entries",i=>(i[1]=Te(i[1]),i))},every(i,e){return We(this,"every",i,e,void 0,arguments)},filter(i,e){return We(this,"filter",i,e,t=>t.map(Te),arguments)},find(i,e){return We(this,"find",i,e,Te,arguments)},findIndex(i,e){return We(this,"findIndex",i,e,void 0,arguments)},findLast(i,e){return We(this,"findLast",i,e,Te,arguments)},findLastIndex(i,e){return We(this,"findLastIndex",i,e,void 0,arguments)},forEach(i,e){return We(this,"forEach",i,e,void 0,arguments)},includes(...i){return On(this,"includes",i)},indexOf(...i){return On(this,"indexOf",i)},join(i){return _t(this).join(i)},lastIndexOf(...i){return On(this,"lastIndexOf",i)},map(i,e){return We(this,"map",i,e,void 0,arguments)},pop(){return Vt(this,"pop")},push(...i){return Vt(this,"push",i)},reduce(i,...e){return us(this,"reduce",i,e)},reduceRight(i,...e){return us(this,"reduceRight",i,e)},shift(){return Vt(this,"shift")},some(i,e){return We(this,"some",i,e,void 0,arguments)},splice(...i){return Vt(this,"splice",i)},toReversed(){return _t(this).toReversed()},toSorted(i){return _t(this).toSorted(i)},toSpliced(...i){return _t(this).toSpliced(...i)},unshift(...i){return Vt(this,"unshift",i)},values(){return In(this,"values",Te)}};function In(i,e,t){const n=Cr(i),r=n[e]();return n!==i&&!He(i)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.value&&(s.value=t(s.value)),s}),r}const Wl=Array.prototype;function We(i,e,t,n,r,s){const a=Cr(i),o=a!==i&&!He(i),l=a[e];if(l!==Wl[e]){const c=l.apply(i,s);return o?Te(c):c}let u=t;a!==i&&(o?u=function(c,d){return t.call(this,Te(c),d,i)}:t.length>2&&(u=function(c,d){return t.call(this,c,d,i)}));const f=l.call(a,u,n);return o&&r?r(f):f}function us(i,e,t,n){const r=Cr(i);let s=t;return r!==i&&(He(i)?t.length>3&&(s=function(a,o,l){return t.call(this,a,o,l,i)}):s=function(a,o,l){return t.call(this,a,Te(o),l,i)}),r[e](s,...n)}function On(i,e,t){const n=Y(i);fe(n,"iterate",fi);const r=n[e](...t);return(r===-1||r===!1)&&Ur(t[0])?(t[0]=Y(t[0]),n[e](...t)):r}function Vt(i,e,t=[]){Xe(),wr();const n=Y(i)[e].apply(i,t);return Fr(),Je(),n}const zl=yr("__proto__,__v_isRef,__isVue"),ya=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(Lt));function jl(i){Lt(i)||(i=String(i));const e=Y(this);return fe(e,"has",i),e.hasOwnProperty(i)}class va{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if(t==="__v_skip")return e.__v_skip;const r=this._isReadonly,s=this._isShallow;if(t==="__v_isReactive")return!r;if(t==="__v_isReadonly")return r;if(t==="__v_isShallow")return s;if(t==="__v_raw")return n===(r?s?i0:_a:s?Ta:ba).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const a=N(e);if(!r){let l;if(a&&(l=Gl[t]))return l;if(t==="hasOwnProperty")return jl}const o=Reflect.get(e,t,me(e)?e:n);return(Lt(t)?ya.has(t):zl(t))||(r||fe(e,"get",t),s)?o:me(o)?a&&br(t)?o:o.value:ae(o)?r?wa(o):Dr(o):o}}class Sa extends va{constructor(e=!1){super(!1,e)}set(e,t,n,r){let s=e[t];if(!this._isShallow){const l=Ut(s);if(!He(n)&&!Ut(n)&&(s=Y(s),n=Y(n)),!N(e)&&me(s)&&!me(n))return l||(s.value=n),!0}const a=N(e)&&br(t)?Number(t)<e.length:z(e,t),o=Reflect.set(e,t,n,me(e)?e:r);return e===Y(r)&&(a?gt(n,s)&&Ye(e,"set",t,n):Ye(e,"add",t,n)),o}deleteProperty(e,t){const n=z(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&Ye(e,"delete",t,void 0),r}has(e,t){const n=Reflect.has(e,t);return(!Lt(t)||!ya.has(t))&&fe(e,"has",t),n}ownKeys(e){return fe(e,"iterate",N(e)?"length":xt),Reflect.ownKeys(e)}}class Kl extends va{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const ql=new Sa,Yl=new Kl,Xl=new Sa(!0);const tr=i=>i,Ti=i=>Reflect.getPrototypeOf(i);function Jl(i,e,t){return function(...n){const r=this.__v_raw,s=Y(r),a=Zt(s),o=i==="entries"||i===Symbol.iterator&&a,l=i==="keys"&&a,u=r[i](...n),f=t?tr:e?ir:Te;return!e&&fe(s,"iterate",l?er:xt),{next(){const{value:c,done:d}=u.next();return d?{value:c,done:d}:{value:o?[f(c[0]),f(c[1])]:f(c),done:d}},[Symbol.iterator](){return this}}}}function _i(i){return function(...e){return i==="delete"?!1:i==="clear"?void 0:this}}function Zl(i,e){const t={get(r){const s=this.__v_raw,a=Y(s),o=Y(r);i||(gt(r,o)&&fe(a,"get",r),fe(a,"get",o));const{has:l}=Ti(a),u=e?tr:i?ir:Te;if(l.call(a,r))return u(s.get(r));if(l.call(a,o))return u(s.get(o));s!==a&&s.get(r)},get size(){const r=this.__v_raw;return!i&&fe(Y(r),"iterate",xt),r.size},has(r){const s=this.__v_raw,a=Y(s),o=Y(r);return i||(gt(r,o)&&fe(a,"has",r),fe(a,"has",o)),r===o?s.has(r):s.has(r)||s.has(o)},forEach(r,s){const a=this,o=a.__v_raw,l=Y(o),u=e?tr:i?ir:Te;return!i&&fe(l,"iterate",xt),o.forEach((f,c)=>r.call(s,u(f),u(c),a))}};return ge(t,i?{add:_i("add"),set:_i("set"),delete:_i("delete"),clear:_i("clear")}:{add(r){!e&&!He(r)&&!Ut(r)&&(r=Y(r));const s=Y(this);return Ti(s).has.call(s,r)||(s.add(r),Ye(s,"add",r,r)),this},set(r,s){!e&&!He(s)&&!Ut(s)&&(s=Y(s));const a=Y(this),{has:o,get:l}=Ti(a);let u=o.call(a,r);u||(r=Y(r),u=o.call(a,r));const f=l.call(a,r);return a.set(r,s),u?gt(s,f)&&Ye(a,"set",r,s):Ye(a,"add",r,s),this},delete(r){const s=Y(this),{has:a,get:o}=Ti(s);let l=a.call(s,r);l||(r=Y(r),l=a.call(s,r)),o&&o.call(s,r);const u=s.delete(r);return l&&Ye(s,"delete",r,void 0),u},clear(){const r=Y(this),s=r.size!==0,a=r.clear();return s&&Ye(r,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=Jl(r,i,e)}),t}function Pr(i,e){const t=Zl(i,e);return(n,r,s)=>r==="__v_isReactive"?!i:r==="__v_isReadonly"?i:r==="__v_raw"?n:Reflect.get(z(t,r)&&r in n?t:n,r,s)}const Ql={get:Pr(!1,!1)},e0={get:Pr(!1,!0)},t0={get:Pr(!0,!1)};const ba=new WeakMap,Ta=new WeakMap,_a=new WeakMap,i0=new WeakMap;function n0(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function r0(i){return i.__v_skip||!Object.isExtensible(i)?0:n0(Pl(i))}function Dr(i){return Ut(i)?i:Er(i,!1,ql,Ql,ba)}function s0(i){return Er(i,!1,Xl,e0,Ta)}function wa(i){return Er(i,!0,Yl,t0,_a)}function Er(i,e,t,n,r){if(!ae(i)||i.__v_raw&&!(e&&i.__v_isReactive))return i;const s=r0(i);if(s===0)return i;const a=r.get(i);if(a)return a;const o=new Proxy(i,s===2?n:t);return r.set(i,o),o}function ii(i){return Ut(i)?ii(i.__v_raw):!!(i&&i.__v_isReactive)}function Ut(i){return!!(i&&i.__v_isReadonly)}function He(i){return!!(i&&i.__v_isShallow)}function Ur(i){return i?!!i.__v_raw:!1}function Y(i){const e=i&&i.__v_raw;return e?Y(e):i}function a0(i){return!z(i,"__v_skip")&&Object.isExtensible(i)&&oa(i,"__v_skip",!0),i}const Te=i=>ae(i)?Dr(i):i,ir=i=>ae(i)?wa(i):i;function me(i){return i?i.__v_isRef===!0:!1}function o0(i){return me(i)?i.value:i}const l0={get:(i,e,t)=>e==="__v_raw"?i:o0(Reflect.get(i,e,t)),set:(i,e,t,n)=>{const r=i[e];return me(r)&&!me(t)?(r.value=t,!0):Reflect.set(i,e,t,n)}};function Fa(i){return ii(i)?i:new Proxy(i,l0)}class f0{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new ga(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=li-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Z!==this)return ca(this,!0),!0}get value(){const e=this.dep.track();return pa(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function u0(i,e,t=!1){let n,r;return B(i)?n=i:(n=i.get,r=i.set),new f0(n,r,t)}const wi={},Vi=new WeakMap;let pt;function c0(i,e=!1,t=pt){if(t){let n=Vi.get(t);n||Vi.set(t,n=[]),n.push(i)}}function d0(i,e,t=Q){const{immediate:n,deep:r,once:s,scheduler:a,augmentJob:o,call:l}=t,u=U=>r?U:He(U)||r===!1||r===0?ot(U,1):ot(U);let f,c,d,m,g=!1,x=!1;if(me(i)?(c=()=>i.value,g=He(i)):ii(i)?(c=()=>u(i),g=!0):N(i)?(x=!0,g=i.some(U=>ii(U)||He(U)),c=()=>i.map(U=>{if(me(U))return U.value;if(ii(U))return u(U);if(B(U))return l?l(U,2):U()})):B(i)?e?c=l?()=>l(i,2):i:c=()=>{if(d){Xe();try{d()}finally{Je()}}const U=pt;pt=f;try{return l?l(i,3,[m]):i(m)}finally{pt=U}}:c=ke,e&&r){const U=c,M=r===!0?1/0:r;c=()=>ot(U(),M)}const F=Vl(),P=()=>{f.stop(),F&&F.active&&Sr(F.effects,f)};if(s&&e){const U=e;e=(...M)=>{U(...M),P()}}let E=x?new Array(i.length).fill(wi):wi;const G=U=>{if(!(!(f.flags&1)||!f.dirty&&!U))if(e){const M=f.run();if(r||g||(x?M.some((L,V)=>gt(L,E[V])):gt(M,E))){d&&d();const L=pt;pt=f;try{const V=[M,E===wi?void 0:x&&E[0]===wi?[]:E,m];E=M,l?l(e,3,V):e(...V)}finally{pt=L}}}else f.run()};return o&&o(G),f=new fa(c),f.scheduler=a?()=>a(G,!1):G,m=U=>c0(U,!1,f),d=f.onStop=()=>{const U=Vi.get(f);if(U){if(l)l(U,4);else for(const M of U)M();Vi.delete(f)}},e?n?G(!0):E=f.run():a?a(G.bind(null,!0),!0):f.run(),P.pause=f.pause.bind(f),P.resume=f.resume.bind(f),P.stop=P,P}function ot(i,e=1/0,t){if(e<=0||!ae(i)||i.__v_skip||(t=t||new Map,(t.get(i)||0)>=e))return i;if(t.set(i,e),e--,me(i))ot(i.value,e,t);else if(N(i))for(let n=0;n<i.length;n++)ot(i[n],e,t);else if(Al(i)||Zt(i))i.forEach(n=>{ot(n,e,t)});else if(Dl(i)){for(const n in i)ot(i[n],e,t);for(const n of Object.getOwnPropertySymbols(i))Object.prototype.propertyIsEnumerable.call(i,n)&&ot(i[n],e,t)}return i}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function xi(i,e,t,n){try{return n?i(...n):i()}catch(r){fn(r,e,t)}}function Ge(i,e,t,n){if(B(i)){const r=xi(i,e,t,n);return r&&sa(r)&&r.catch(s=>{fn(s,e,t)}),r}if(N(i)){const r=[];for(let s=0;s<i.length;s++)r.push(Ge(i[s],e,t,n));return r}}function fn(i,e,t,n=!0){const r=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||Q;if(e){let o=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${t}`;for(;o;){const f=o.ec;if(f){for(let c=0;c<f.length;c++)if(f[c](i,l,u)===!1)return}o=o.parent}if(s){Xe(),xi(s,null,10,[i,l,u]),Je();return}}h0(i,t,r,n,a)}function h0(i,e,t,n=!0,r=!1){if(r)throw i;console.error(i)}const de=[];let Ne=-1;const Dt=[];let rt=null,Ft=0;const Aa=Promise.resolve();let ki=null;function p0(i){const e=ki||Aa;return i?e.then(this?i.bind(this):i):e}function m0(i){let e=Ne+1,t=de.length;for(;e<t;){const n=e+t>>>1,r=de[n],s=ui(r);s<i||s===i&&r.flags&2?e=n+1:t=n}return e}function Ir(i){if(!(i.flags&1)){const e=ui(i),t=de[de.length-1];!t||!(i.flags&2)&&e>=ui(t)?de.push(i):de.splice(m0(e),0,i),i.flags|=1,Ca()}}function Ca(){ki||(ki=Aa.then(Da))}function g0(i){N(i)?Dt.push(...i):rt&&i.id===-1?rt.splice(Ft+1,0,i):i.flags&1||(Dt.push(i),i.flags|=1),Ca()}function cs(i,e,t=Ne+1){for(;t<de.length;t++){const n=de[t];if(n&&n.flags&2){if(i&&n.id!==i.uid)continue;de.splice(t,1),t--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Pa(i){if(Dt.length){const e=[...new Set(Dt)].sort((t,n)=>ui(t)-ui(n));if(Dt.length=0,rt){rt.push(...e);return}for(rt=e,Ft=0;Ft<rt.length;Ft++){const t=rt[Ft];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}rt=null,Ft=0}}const ui=i=>i.id==null?i.flags&2?-1:1/0:i.id;function Da(i){try{for(Ne=0;Ne<de.length;Ne++){const e=de[Ne];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),xi(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ne<de.length;Ne++){const e=de[Ne];e&&(e.flags&=-2)}Ne=-1,de.length=0,Pa(),ki=null,(de.length||Dt.length)&&Da()}}let $e=null,Ea=null;function Hi(i){const e=$e;return $e=i,Ea=i&&i.type.__scopeId||null,e}function x0(i,e=$e,t){if(!e||i._n)return i;const n=(...r)=>{n._d&&bs(-1);const s=Hi(e);let a;try{a=i(...r)}finally{Hi(s),n._d&&bs(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function dt(i,e,t,n){const r=i.dirs,s=e&&e.dirs;for(let a=0;a<r.length;a++){const o=r[a];s&&(o.oldValue=s[a].value);let l=o.dir[n];l&&(Xe(),Ge(l,t,8,[i.el,o,i,e]),Je())}}const y0=Symbol("_vte"),v0=i=>i.__isTeleport,S0=Symbol("_leaveCb");function Or(i,e){i.shapeFlag&6&&i.component?(i.transition=e,Or(i.component.subTree,e)):i.shapeFlag&128?(i.ssContent.transition=e.clone(i.ssContent),i.ssFallback.transition=e.clone(i.ssFallback)):i.transition=e}function Ua(i){i.ids=[i.ids[0]+i.ids[2]+++"-",0,0]}const Gi=new WeakMap;function ni(i,e,t,n,r=!1){if(N(i)){i.forEach((g,x)=>ni(g,e&&(N(e)?e[x]:e),t,n,r));return}if(ri(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&ni(i,e,t,n.component.subTree);return}const s=n.shapeFlag&4?Br(n.component):n.el,a=r?null:s,{i:o,r:l}=i,u=e&&e.r,f=o.refs===Q?o.refs={}:o.refs,c=o.setupState,d=Y(c),m=c===Q?ra:g=>z(d,g);if(u!=null&&u!==l){if(ds(e),oe(u))f[u]=null,m(u)&&(c[u]=null);else if(me(u)){u.value=null;const g=e;g.k&&(f[g.k]=null)}}if(B(l))xi(l,o,12,[a,f]);else{const g=oe(l),x=me(l);if(g||x){const F=()=>{if(i.f){const P=g?m(l)?c[l]:f[l]:l.value;if(r)N(P)&&Sr(P,s);else if(N(P))P.includes(s)||P.push(s);else if(g)f[l]=[s],m(l)&&(c[l]=f[l]);else{const E=[s];l.value=E,i.k&&(f[i.k]=E)}}else g?(f[l]=a,m(l)&&(c[l]=a)):x&&(l.value=a,i.k&&(f[i.k]=a))};if(a){const P=()=>{F(),Gi.delete(i)};P.id=-1,Gi.set(i,P),be(P,t)}else ds(i),F()}}}function ds(i){const e=Gi.get(i);e&&(e.flags|=8,Gi.delete(i))}ln().requestIdleCallback;ln().cancelIdleCallback;const ri=i=>!!i.type.__asyncLoader,Ia=i=>i.type.__isKeepAlive;function b0(i,e){Oa(i,"a",e)}function T0(i,e){Oa(i,"da",e)}function Oa(i,e,t=pe){const n=i.__wdc||(i.__wdc=()=>{let r=t;for(;r;){if(r.isDeactivated)return;r=r.parent}return i()});if(un(e,n,t),t){let r=t.parent;for(;r&&r.parent;)Ia(r.parent.vnode)&&_0(n,e,t,r),r=r.parent}}function _0(i,e,t,n){const r=un(e,i,n,!0);Ma(()=>{Sr(n[e],r)},t)}function un(i,e,t=pe,n=!1){if(t){const r=t[i]||(t[i]=[]),s=e.__weh||(e.__weh=(...a)=>{Xe();const o=yi(t),l=Ge(e,t,i,a);return o(),Je(),l});return n?r.unshift(s):r.push(s),s}}const Ze=i=>(e,t=pe)=>{(!di||i==="sp")&&un(i,(...n)=>e(...n),t)},w0=Ze("bm"),F0=Ze("m"),A0=Ze("bu"),C0=Ze("u"),P0=Ze("bum"),Ma=Ze("um"),D0=Ze("sp"),E0=Ze("rtg"),U0=Ze("rtc");function I0(i,e=pe){un("ec",i,e)}const O0=Symbol.for("v-ndc"),nr=i=>i?eo(i)?Br(i):nr(i.parent):null,si=ge(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>i.props,$attrs:i=>i.attrs,$slots:i=>i.slots,$refs:i=>i.refs,$parent:i=>nr(i.parent),$root:i=>nr(i.root),$host:i=>i.ce,$emit:i=>i.emit,$options:i=>Ra(i),$forceUpdate:i=>i.f||(i.f=()=>{Ir(i.update)}),$nextTick:i=>i.n||(i.n=p0.bind(i.proxy)),$watch:i=>tf.bind(i)}),Mn=(i,e)=>i!==Q&&!i.__isScriptSetup&&z(i,e),M0={get({_:i},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:n,data:r,props:s,accessCache:a,type:o,appContext:l}=i;let u;if(e[0]!=="$"){const m=a[e];if(m!==void 0)switch(m){case 1:return n[e];case 2:return r[e];case 4:return t[e];case 3:return s[e]}else{if(Mn(n,e))return a[e]=1,n[e];if(r!==Q&&z(r,e))return a[e]=2,r[e];if((u=i.propsOptions[0])&&z(u,e))return a[e]=3,s[e];if(t!==Q&&z(t,e))return a[e]=4,t[e];rr&&(a[e]=0)}}const f=si[e];let c,d;if(f)return e==="$attrs"&&fe(i.attrs,"get",""),f(i);if((c=o.__cssModules)&&(c=c[e]))return c;if(t!==Q&&z(t,e))return a[e]=4,t[e];if(d=l.config.globalProperties,z(d,e))return d[e]},set({_:i},e,t){const{data:n,setupState:r,ctx:s}=i;return Mn(r,e)?(r[e]=t,!0):n!==Q&&z(n,e)?(n[e]=t,!0):z(i.props,e)||e[0]==="$"&&e.slice(1)in i?!1:(s[e]=t,!0)},has({_:{data:i,setupState:e,accessCache:t,ctx:n,appContext:r,propsOptions:s,type:a}},o){let l,u;return!!(t[o]||i!==Q&&o[0]!=="$"&&z(i,o)||Mn(e,o)||(l=s[0])&&z(l,o)||z(n,o)||z(si,o)||z(r.config.globalProperties,o)||(u=a.__cssModules)&&u[o])},defineProperty(i,e,t){return t.get!=null?i._.accessCache[e]=0:z(t,"value")&&this.set(i,e,t.value,null),Reflect.defineProperty(i,e,t)}};function hs(i){return N(i)?i.reduce((e,t)=>(e[t]=null,e),{}):i}let rr=!0;function L0(i){const e=Ra(i),t=i.proxy,n=i.ctx;rr=!1,e.beforeCreate&&ps(e.beforeCreate,i,"bc");const{data:r,computed:s,methods:a,watch:o,provide:l,inject:u,created:f,beforeMount:c,mounted:d,beforeUpdate:m,updated:g,activated:x,deactivated:F,beforeDestroy:P,beforeUnmount:E,destroyed:G,unmounted:U,render:M,renderTracked:L,renderTriggered:V,errorCaptured:te,serverPrefetch:se,expose:H,inheritAttrs:et,components:Ae,directives:vi,filters:Cn}=e;if(u&&R0(u,n,null),a)for(const ie in a){const X=a[ie];B(X)&&(n[ie]=X.bind(t))}if(r){const ie=r.call(t,t);ae(ie)&&(i.data=Dr(ie))}if(rr=!0,s)for(const ie in s){const X=s[ie],ut=B(X)?X.bind(t,t):B(X.get)?X.get.bind(t,t):ke,Si=!B(X)&&B(X.set)?X.set.bind(t):ke,ct=Pf({get:ut,set:Si});Object.defineProperty(n,ie,{enumerable:!0,configurable:!0,get:()=>ct.value,set:Ie=>ct.value=Ie})}if(o)for(const ie in o)La(o[ie],n,t,ie);if(l){const ie=B(l)?l.call(t):l;Reflect.ownKeys(ie).forEach(X=>{H0(X,ie[X])})}f&&ps(f,i,"c");function ue(ie,X){N(X)?X.forEach(ut=>ie(ut.bind(t))):X&&ie(X.bind(t))}if(ue(w0,c),ue(F0,d),ue(A0,m),ue(C0,g),ue(b0,x),ue(T0,F),ue(I0,te),ue(U0,L),ue(E0,V),ue(P0,E),ue(Ma,U),ue(D0,se),N(H))if(H.length){const ie=i.exposed||(i.exposed={});H.forEach(X=>{Object.defineProperty(ie,X,{get:()=>t[X],set:ut=>t[X]=ut,enumerable:!0})})}else i.exposed||(i.exposed={});M&&i.render===ke&&(i.render=M),et!=null&&(i.inheritAttrs=et),Ae&&(i.components=Ae),vi&&(i.directives=vi),se&&Ua(i)}function R0(i,e,t=ke){N(i)&&(i=sr(i));for(const n in i){const r=i[n];let s;ae(r)?"default"in r?s=Li(r.from||n,r.default,!0):s=Li(r.from||n):s=Li(r),me(s)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[n]=s}}function ps(i,e,t){Ge(N(i)?i.map(n=>n.bind(e.proxy)):i.bind(e.proxy),e,t)}function La(i,e,t,n){let r=n.includes(".")?Ya(t,n):()=>t[n];if(oe(i)){const s=e[i];B(s)&&Rn(r,s)}else if(B(i))Rn(r,i.bind(t));else if(ae(i))if(N(i))i.forEach(s=>La(s,e,t,n));else{const s=B(i.handler)?i.handler.bind(t):e[i.handler];B(s)&&Rn(r,s,i)}}function Ra(i){const e=i.type,{mixins:t,extends:n}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:a}}=i.appContext,o=s.get(e);let l;return o?l=o:!r.length&&!t&&!n?l=e:(l={},r.length&&r.forEach(u=>Wi(l,u,a,!0)),Wi(l,e,a)),ae(e)&&s.set(e,l),l}function Wi(i,e,t,n=!1){const{mixins:r,extends:s}=e;s&&Wi(i,s,t,!0),r&&r.forEach(a=>Wi(i,a,t,!0));for(const a in e)if(!(n&&a==="expose")){const o=N0[a]||t&&t[a];i[a]=o?o(i[a],e[a]):e[a]}return i}const N0={data:ms,props:gs,emits:gs,methods:qt,computed:qt,beforeCreate:ce,created:ce,beforeMount:ce,mounted:ce,beforeUpdate:ce,updated:ce,beforeDestroy:ce,beforeUnmount:ce,destroyed:ce,unmounted:ce,activated:ce,deactivated:ce,errorCaptured:ce,serverPrefetch:ce,components:qt,directives:qt,watch:$0,provide:ms,inject:B0};function ms(i,e){return e?i?function(){return ge(B(i)?i.call(this,this):i,B(e)?e.call(this,this):e)}:e:i}function B0(i,e){return qt(sr(i),sr(e))}function sr(i){if(N(i)){const e={};for(let t=0;t<i.length;t++)e[i[t]]=i[t];return e}return i}function ce(i,e){return i?[...new Set([].concat(i,e))]:e}function qt(i,e){return i?ge(Object.create(null),i,e):e}function gs(i,e){return i?N(i)&&N(e)?[...new Set([...i,...e])]:ge(Object.create(null),hs(i),hs(e??{})):e}function $0(i,e){if(!i)return e;if(!e)return i;const t=ge(Object.create(null),i);for(const n in e)t[n]=ce(i[n],e[n]);return t}function Na(){return{app:null,config:{isNativeTag:ra,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let V0=0;function k0(i,e){return function(n,r=null){B(n)||(n=ge({},n)),r!=null&&!ae(r)&&(r=null);const s=Na(),a=new WeakSet,o=[];let l=!1;const u=s.app={_uid:V0++,_component:n,_props:r,_container:null,_context:s,_instance:null,version:Df,get config(){return s.config},set config(f){},use(f,...c){return a.has(f)||(f&&B(f.install)?(a.add(f),f.install(u,...c)):B(f)&&(a.add(f),f(u,...c))),u},mixin(f){return s.mixins.includes(f)||s.mixins.push(f),u},component(f,c){return c?(s.components[f]=c,u):s.components[f]},directive(f,c){return c?(s.directives[f]=c,u):s.directives[f]},mount(f,c,d){if(!l){const m=u._ceVNode||yt(n,r);return m.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),i(m,f,d),l=!0,u._container=f,f.__vue_app__=u,Br(m.component)}},onUnmount(f){o.push(f)},unmount(){l&&(Ge(o,u._instance,16),i(null,u._container),delete u._container.__vue_app__)},provide(f,c){return s.provides[f]=c,u},runWithContext(f){const c=Et;Et=u;try{return f()}finally{Et=c}}};return u}}let Et=null;function H0(i,e){if(pe){let t=pe.provides;const n=pe.parent&&pe.parent.provides;n===t&&(t=pe.provides=Object.create(n)),t[i]=e}}function Li(i,e,t=!1){const n=Tf();if(n||Et){let r=Et?Et._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&i in r)return r[i];if(arguments.length>1)return t&&B(e)?e.call(n&&n.proxy):e}}const Ba={},$a=()=>Object.create(Ba),Va=i=>Object.getPrototypeOf(i)===Ba;function G0(i,e,t,n=!1){const r={},s=$a();i.propsDefaults=Object.create(null),ka(i,e,r,s);for(const a in i.propsOptions[0])a in r||(r[a]=void 0);t?i.props=n?r:s0(r):i.type.props?i.props=r:i.props=s,i.attrs=s}function W0(i,e,t,n){const{props:r,attrs:s,vnode:{patchFlag:a}}=i,o=Y(r),[l]=i.propsOptions;let u=!1;if((n||a>0)&&!(a&16)){if(a&8){const f=i.vnode.dynamicProps;for(let c=0;c<f.length;c++){let d=f[c];if(cn(i.emitsOptions,d))continue;const m=e[d];if(l)if(z(s,d))m!==s[d]&&(s[d]=m,u=!0);else{const g=lt(d);r[g]=ar(l,o,g,m,i,!1)}else m!==s[d]&&(s[d]=m,u=!0)}}}else{ka(i,e,r,s)&&(u=!0);let f;for(const c in o)(!e||!z(e,c)&&((f=bt(c))===c||!z(e,f)))&&(l?t&&(t[c]!==void 0||t[f]!==void 0)&&(r[c]=ar(l,o,c,void 0,i,!0)):delete r[c]);if(s!==o)for(const c in s)(!e||!z(e,c))&&(delete s[c],u=!0)}u&&Ye(i.attrs,"set","")}function ka(i,e,t,n){const[r,s]=i.propsOptions;let a=!1,o;if(e)for(let l in e){if(Qt(l))continue;const u=e[l];let f;r&&z(r,f=lt(l))?!s||!s.includes(f)?t[f]=u:(o||(o={}))[f]=u:cn(i.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,a=!0)}if(s){const l=Y(t),u=o||Q;for(let f=0;f<s.length;f++){const c=s[f];t[c]=ar(r,l,c,u[c],i,!z(u,c))}}return a}function ar(i,e,t,n,r,s){const a=i[t];if(a!=null){const o=z(a,"default");if(o&&n===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&B(l)){const{propsDefaults:u}=r;if(t in u)n=u[t];else{const f=yi(r);n=u[t]=l.call(null,e),f()}}else n=l;r.ce&&r.ce._setProp(t,n)}a[0]&&(s&&!o?n=!1:a[1]&&(n===""||n===bt(t))&&(n=!0))}return n}const z0=new WeakMap;function Ha(i,e,t=!1){const n=t?z0:e.propsCache,r=n.get(i);if(r)return r;const s=i.props,a={},o=[];let l=!1;if(!B(i)){const f=c=>{l=!0;const[d,m]=Ha(c,e,!0);ge(a,d),m&&o.push(...m)};!t&&e.mixins.length&&e.mixins.forEach(f),i.extends&&f(i.extends),i.mixins&&i.mixins.forEach(f)}if(!s&&!l)return ae(i)&&n.set(i,Pt),Pt;if(N(s))for(let f=0;f<s.length;f++){const c=lt(s[f]);xs(c)&&(a[c]=Q)}else if(s)for(const f in s){const c=lt(f);if(xs(c)){const d=s[f],m=a[c]=N(d)||B(d)?{type:d}:ge({},d),g=m.type;let x=!1,F=!0;if(N(g))for(let P=0;P<g.length;++P){const E=g[P],G=B(E)&&E.name;if(G==="Boolean"){x=!0;break}else G==="String"&&(F=!1)}else x=B(g)&&g.name==="Boolean";m[0]=x,m[1]=F,(x||z(m,"default"))&&o.push(c)}}const u=[a,o];return ae(i)&&n.set(i,u),u}function xs(i){return i[0]!=="$"&&!Qt(i)}const Mr=i=>i==="_"||i==="_ctx"||i==="$stable",Lr=i=>N(i)?i.map(Be):[Be(i)],j0=(i,e,t)=>{if(e._n)return e;const n=x0((...r)=>Lr(e(...r)),t);return n._c=!1,n},Ga=(i,e,t)=>{const n=i._ctx;for(const r in i){if(Mr(r))continue;const s=i[r];if(B(s))e[r]=j0(r,s,n);else if(s!=null){const a=Lr(s);e[r]=()=>a}}},Wa=(i,e)=>{const t=Lr(e);i.slots.default=()=>t},za=(i,e,t)=>{for(const n in e)(t||!Mr(n))&&(i[n]=e[n])},K0=(i,e,t)=>{const n=i.slots=$a();if(i.vnode.shapeFlag&32){const r=e._;r?(za(n,e,t),t&&oa(n,"_",r,!0)):Ga(e,n)}else e&&Wa(i,e)},q0=(i,e,t)=>{const{vnode:n,slots:r}=i;let s=!0,a=Q;if(n.shapeFlag&32){const o=e._;o?t&&o===1?s=!1:za(r,e,t):(s=!e.$stable,Ga(e,r)),a=e}else e&&(Wa(i,e),a={default:1});if(s)for(const o in r)!Mr(o)&&a[o]==null&&delete r[o]},be=uf;function Y0(i){return X0(i)}function X0(i,e){const t=ln();t.__VUE__=!0;const{insert:n,remove:r,patchProp:s,createElement:a,createText:o,createComment:l,setText:u,setElementText:f,parentNode:c,nextSibling:d,setScopeId:m=ke,insertStaticContent:g}=i,x=(h,p,y,b=null,v=null,S=null,A=void 0,w=null,_=!!p.dynamicChildren)=>{if(h===p)return;h&&!kt(h,p)&&(b=bi(h),Ie(h,v,S,!0),h=null),p.patchFlag===-2&&(_=!1,p.dynamicChildren=null);const{type:T,ref:I,shapeFlag:C}=p;switch(T){case dn:F(h,p,y,b);break;case It:P(h,p,y,b);break;case Nn:h==null&&E(p,y,b,A);break;case Ke:Ae(h,p,y,b,v,S,A,w,_);break;default:C&1?M(h,p,y,b,v,S,A,w,_):C&6?vi(h,p,y,b,v,S,A,w,_):(C&64||C&128)&&T.process(h,p,y,b,v,S,A,w,_,Bt)}I!=null&&v?ni(I,h&&h.ref,S,p||h,!p):I==null&&h&&h.ref!=null&&ni(h.ref,null,S,h,!0)},F=(h,p,y,b)=>{if(h==null)n(p.el=o(p.children),y,b);else{const v=p.el=h.el;p.children!==h.children&&u(v,p.children)}},P=(h,p,y,b)=>{h==null?n(p.el=l(p.children||""),y,b):p.el=h.el},E=(h,p,y,b)=>{[h.el,h.anchor]=g(h.children,p,y,b,h.el,h.anchor)},G=({el:h,anchor:p},y,b)=>{let v;for(;h&&h!==p;)v=d(h),n(h,y,b),h=v;n(p,y,b)},U=({el:h,anchor:p})=>{let y;for(;h&&h!==p;)y=d(h),r(h),h=y;r(p)},M=(h,p,y,b,v,S,A,w,_)=>{p.type==="svg"?A="svg":p.type==="math"&&(A="mathml"),h==null?L(p,y,b,v,S,A,w,_):se(h,p,v,S,A,w,_)},L=(h,p,y,b,v,S,A,w)=>{let _,T;const{props:I,shapeFlag:C,transition:D,dirs:O}=h;if(_=h.el=a(h.type,S,I&&I.is,I),C&8?f(_,h.children):C&16&&te(h.children,_,null,b,v,Ln(h,S),A,w),O&&dt(h,null,b,"created"),V(_,h,h.scopeId,A,b),I){for(const J in I)J!=="value"&&!Qt(J)&&s(_,J,null,I[J],S,b);"value"in I&&s(_,"value",null,I.value,S),(T=I.onVnodeBeforeMount)&&Re(T,b,h)}O&&dt(h,null,b,"beforeMount");const k=J0(v,D);k&&D.beforeEnter(_),n(_,p,y),((T=I&&I.onVnodeMounted)||k||O)&&be(()=>{T&&Re(T,b,h),k&&D.enter(_),O&&dt(h,null,b,"mounted")},v)},V=(h,p,y,b,v)=>{if(y&&m(h,y),b)for(let S=0;S<b.length;S++)m(h,b[S]);if(v){let S=v.subTree;if(p===S||Ja(S.type)&&(S.ssContent===p||S.ssFallback===p)){const A=v.vnode;V(h,A,A.scopeId,A.slotScopeIds,v.parent)}}},te=(h,p,y,b,v,S,A,w,_=0)=>{for(let T=_;T<h.length;T++){const I=h[T]=w?st(h[T]):Be(h[T]);x(null,I,p,y,b,v,S,A,w)}},se=(h,p,y,b,v,S,A)=>{const w=p.el=h.el;let{patchFlag:_,dynamicChildren:T,dirs:I}=p;_|=h.patchFlag&16;const C=h.props||Q,D=p.props||Q;let O;if(y&&ht(y,!1),(O=D.onVnodeBeforeUpdate)&&Re(O,y,p,h),I&&dt(p,h,y,"beforeUpdate"),y&&ht(y,!0),(C.innerHTML&&D.innerHTML==null||C.textContent&&D.textContent==null)&&f(w,""),T?H(h.dynamicChildren,T,w,y,b,Ln(p,v),S):A||X(h,p,w,null,y,b,Ln(p,v),S,!1),_>0){if(_&16)et(w,C,D,y,v);else if(_&2&&C.class!==D.class&&s(w,"class",null,D.class,v),_&4&&s(w,"style",C.style,D.style,v),_&8){const k=p.dynamicProps;for(let J=0;J<k.length;J++){const j=k[J],xe=C[j],ye=D[j];(ye!==xe||j==="value")&&s(w,j,xe,ye,v,y)}}_&1&&h.children!==p.children&&f(w,p.children)}else!A&&T==null&&et(w,C,D,y,v);((O=D.onVnodeUpdated)||I)&&be(()=>{O&&Re(O,y,p,h),I&&dt(p,h,y,"updated")},b)},H=(h,p,y,b,v,S,A)=>{for(let w=0;w<p.length;w++){const _=h[w],T=p[w],I=_.el&&(_.type===Ke||!kt(_,T)||_.shapeFlag&198)?c(_.el):y;x(_,T,I,null,b,v,S,A,!0)}},et=(h,p,y,b,v)=>{if(p!==y){if(p!==Q)for(const S in p)!Qt(S)&&!(S in y)&&s(h,S,p[S],null,v,b);for(const S in y){if(Qt(S))continue;const A=y[S],w=p[S];A!==w&&S!=="value"&&s(h,S,w,A,v,b)}"value"in y&&s(h,"value",p.value,y.value,v)}},Ae=(h,p,y,b,v,S,A,w,_)=>{const T=p.el=h?h.el:o(""),I=p.anchor=h?h.anchor:o("");let{patchFlag:C,dynamicChildren:D,slotScopeIds:O}=p;O&&(w=w?w.concat(O):O),h==null?(n(T,y,b),n(I,y,b),te(p.children||[],y,I,v,S,A,w,_)):C>0&&C&64&&D&&h.dynamicChildren?(H(h.dynamicChildren,D,y,v,S,A,w),(p.key!=null||v&&p===v.subTree)&&ja(h,p,!0)):X(h,p,y,I,v,S,A,w,_)},vi=(h,p,y,b,v,S,A,w,_)=>{p.slotScopeIds=w,h==null?p.shapeFlag&512?v.ctx.activate(p,y,b,A,_):Cn(p,y,b,v,S,A,_):is(h,p,_)},Cn=(h,p,y,b,v,S,A)=>{const w=h.component=bf(h,b,v);if(Ia(h)&&(w.ctx.renderer=Bt),_f(w,!1,A),w.asyncDep){if(v&&v.registerDep(w,ue,A),!h.el){const _=w.subTree=yt(It);P(null,_,p,y),h.placeholder=_.el}}else ue(w,h,p,y,v,S,A)},is=(h,p,y)=>{const b=p.component=h.component;if(lf(h,p,y))if(b.asyncDep&&!b.asyncResolved){ie(b,p,y);return}else b.next=p,b.update();else p.el=h.el,b.vnode=p},ue=(h,p,y,b,v,S,A)=>{const w=()=>{if(h.isMounted){let{next:C,bu:D,u:O,parent:k,vnode:J}=h;{const Me=Ka(h);if(Me){C&&(C.el=J.el,ie(h,C,A)),Me.asyncDep.then(()=>{h.isUnmounted||w()});return}}let j=C,xe;ht(h,!1),C?(C.el=J.el,ie(h,C,A)):C=J,D&&En(D),(xe=C.props&&C.props.onVnodeBeforeUpdate)&&Re(xe,k,C,J),ht(h,!0);const ye=vs(h),Oe=h.subTree;h.subTree=ye,x(Oe,ye,c(Oe.el),bi(Oe),h,v,S),C.el=ye.el,j===null&&ff(h,ye.el),O&&be(O,v),(xe=C.props&&C.props.onVnodeUpdated)&&be(()=>Re(xe,k,C,J),v)}else{let C;const{el:D,props:O}=p,{bm:k,m:J,parent:j,root:xe,type:ye}=h,Oe=ri(p);ht(h,!1),k&&En(k),!Oe&&(C=O&&O.onVnodeBeforeMount)&&Re(C,j,p),ht(h,!0);{xe.ce&&xe.ce._def.shadowRoot!==!1&&xe.ce._injectChildStyle(ye);const Me=h.subTree=vs(h);x(null,Me,y,b,h,v,S),p.el=Me.el}if(J&&be(J,v),!Oe&&(C=O&&O.onVnodeMounted)){const Me=p;be(()=>Re(C,j,Me),v)}(p.shapeFlag&256||j&&ri(j.vnode)&&j.vnode.shapeFlag&256)&&h.a&&be(h.a,v),h.isMounted=!0,p=y=b=null}};h.scope.on();const _=h.effect=new fa(w);h.scope.off();const T=h.update=_.run.bind(_),I=h.job=_.runIfDirty.bind(_);I.i=h,I.id=h.uid,_.scheduler=()=>Ir(I),ht(h,!0),T()},ie=(h,p,y)=>{p.component=h;const b=h.vnode.props;h.vnode=p,h.next=null,W0(h,p.props,b,y),q0(h,p.children,y),Xe(),cs(h),Je()},X=(h,p,y,b,v,S,A,w,_=!1)=>{const T=h&&h.children,I=h?h.shapeFlag:0,C=p.children,{patchFlag:D,shapeFlag:O}=p;if(D>0){if(D&128){Si(T,C,y,b,v,S,A,w,_);return}else if(D&256){ut(T,C,y,b,v,S,A,w,_);return}}O&8?(I&16&&Nt(T,v,S),C!==T&&f(y,C)):I&16?O&16?Si(T,C,y,b,v,S,A,w,_):Nt(T,v,S,!0):(I&8&&f(y,""),O&16&&te(C,y,b,v,S,A,w,_))},ut=(h,p,y,b,v,S,A,w,_)=>{h=h||Pt,p=p||Pt;const T=h.length,I=p.length,C=Math.min(T,I);let D;for(D=0;D<C;D++){const O=p[D]=_?st(p[D]):Be(p[D]);x(h[D],O,y,null,v,S,A,w,_)}T>I?Nt(h,v,S,!0,!1,C):te(p,y,b,v,S,A,w,_,C)},Si=(h,p,y,b,v,S,A,w,_)=>{let T=0;const I=p.length;let C=h.length-1,D=I-1;for(;T<=C&&T<=D;){const O=h[T],k=p[T]=_?st(p[T]):Be(p[T]);if(kt(O,k))x(O,k,y,null,v,S,A,w,_);else break;T++}for(;T<=C&&T<=D;){const O=h[C],k=p[D]=_?st(p[D]):Be(p[D]);if(kt(O,k))x(O,k,y,null,v,S,A,w,_);else break;C--,D--}if(T>C){if(T<=D){const O=D+1,k=O<I?p[O].el:b;for(;T<=D;)x(null,p[T]=_?st(p[T]):Be(p[T]),y,k,v,S,A,w,_),T++}}else if(T>D)for(;T<=C;)Ie(h[T],v,S,!0),T++;else{const O=T,k=T,J=new Map;for(T=k;T<=D;T++){const Se=p[T]=_?st(p[T]):Be(p[T]);Se.key!=null&&J.set(Se.key,T)}let j,xe=0;const ye=D-k+1;let Oe=!1,Me=0;const $t=new Array(ye);for(T=0;T<ye;T++)$t[T]=0;for(T=O;T<=C;T++){const Se=h[T];if(xe>=ye){Ie(Se,v,S,!0);continue}let Le;if(Se.key!=null)Le=J.get(Se.key);else for(j=k;j<=D;j++)if($t[j-k]===0&&kt(Se,p[j])){Le=j;break}Le===void 0?Ie(Se,v,S,!0):($t[Le-k]=T+1,Le>=Me?Me=Le:Oe=!0,x(Se,p[Le],y,null,v,S,A,w,_),xe++)}const ss=Oe?Z0($t):Pt;for(j=ss.length-1,T=ye-1;T>=0;T--){const Se=k+T,Le=p[Se],as=p[Se+1],os=Se+1<I?as.el||as.placeholder:b;$t[T]===0?x(null,Le,y,os,v,S,A,w,_):Oe&&(j<0||T!==ss[j]?ct(Le,y,os,2):j--)}}},ct=(h,p,y,b,v=null)=>{const{el:S,type:A,transition:w,children:_,shapeFlag:T}=h;if(T&6){ct(h.component.subTree,p,y,b);return}if(T&128){h.suspense.move(p,y,b);return}if(T&64){A.move(h,p,y,Bt);return}if(A===Ke){n(S,p,y);for(let C=0;C<_.length;C++)ct(_[C],p,y,b);n(h.anchor,p,y);return}if(A===Nn){G(h,p,y);return}if(b!==2&&T&1&&w)if(b===0)w.beforeEnter(S),n(S,p,y),be(()=>w.enter(S),v);else{const{leave:C,delayLeave:D,afterLeave:O}=w,k=()=>{h.ctx.isUnmounted?r(S):n(S,p,y)},J=()=>{S._isLeaving&&S[S0](!0),C(S,()=>{k(),O&&O()})};D?D(S,k,J):J()}else n(S,p,y)},Ie=(h,p,y,b=!1,v=!1)=>{const{type:S,props:A,ref:w,children:_,dynamicChildren:T,shapeFlag:I,patchFlag:C,dirs:D,cacheIndex:O}=h;if(C===-2&&(v=!1),w!=null&&(Xe(),ni(w,null,y,h,!0),Je()),O!=null&&(p.renderCache[O]=void 0),I&256){p.ctx.deactivate(h);return}const k=I&1&&D,J=!ri(h);let j;if(J&&(j=A&&A.onVnodeBeforeUnmount)&&Re(j,p,h),I&6)wl(h.component,y,b);else{if(I&128){h.suspense.unmount(y,b);return}k&&dt(h,null,p,"beforeUnmount"),I&64?h.type.remove(h,p,y,Bt,b):T&&!T.hasOnce&&(S!==Ke||C>0&&C&64)?Nt(T,p,y,!1,!0):(S===Ke&&C&384||!v&&I&16)&&Nt(_,p,y),b&&ns(h)}(J&&(j=A&&A.onVnodeUnmounted)||k)&&be(()=>{j&&Re(j,p,h),k&&dt(h,null,p,"unmounted")},y)},ns=h=>{const{type:p,el:y,anchor:b,transition:v}=h;if(p===Ke){_l(y,b);return}if(p===Nn){U(h);return}const S=()=>{r(y),v&&!v.persisted&&v.afterLeave&&v.afterLeave()};if(h.shapeFlag&1&&v&&!v.persisted){const{leave:A,delayLeave:w}=v,_=()=>A(y,S);w?w(h.el,S,_):_()}else S()},_l=(h,p)=>{let y;for(;h!==p;)y=d(h),r(h),h=y;r(p)},wl=(h,p,y)=>{const{bum:b,scope:v,job:S,subTree:A,um:w,m:_,a:T}=h;ys(_),ys(T),b&&En(b),v.stop(),S&&(S.flags|=8,Ie(A,h,p,y)),w&&be(w,p),be(()=>{h.isUnmounted=!0},p)},Nt=(h,p,y,b=!1,v=!1,S=0)=>{for(let A=S;A<h.length;A++)Ie(h[A],p,y,b,v)},bi=h=>{if(h.shapeFlag&6)return bi(h.component.subTree);if(h.shapeFlag&128)return h.suspense.next();const p=d(h.anchor||h.el),y=p&&p[y0];return y?d(y):p};let Pn=!1;const rs=(h,p,y)=>{h==null?p._vnode&&Ie(p._vnode,null,null,!0):x(p._vnode||null,h,p,null,null,null,y),p._vnode=h,Pn||(Pn=!0,cs(),Pa(),Pn=!1)},Bt={p:x,um:Ie,m:ct,r:ns,mt:Cn,mc:te,pc:X,pbc:H,n:bi,o:i};return{render:rs,hydrate:void 0,createApp:k0(rs)}}function Ln({type:i,props:e},t){return t==="svg"&&i==="foreignObject"||t==="mathml"&&i==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function ht({effect:i,job:e},t){t?(i.flags|=32,e.flags|=4):(i.flags&=-33,e.flags&=-5)}function J0(i,e){return(!i||i&&!i.pendingBranch)&&e&&!e.persisted}function ja(i,e,t=!1){const n=i.children,r=e.children;if(N(n)&&N(r))for(let s=0;s<n.length;s++){const a=n[s];let o=r[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=r[s]=st(r[s]),o.el=a.el),!t&&o.patchFlag!==-2&&ja(a,o)),o.type===dn&&o.patchFlag!==-1&&(o.el=a.el),o.type===It&&!o.el&&(o.el=a.el)}}function Z0(i){const e=i.slice(),t=[0];let n,r,s,a,o;const l=i.length;for(n=0;n<l;n++){const u=i[n];if(u!==0){if(r=t[t.length-1],i[r]<u){e[n]=r,t.push(n);continue}for(s=0,a=t.length-1;s<a;)o=s+a>>1,i[t[o]]<u?s=o+1:a=o;u<i[t[s]]&&(s>0&&(e[n]=t[s-1]),t[s]=n)}}for(s=t.length,a=t[s-1];s-- >0;)t[s]=a,a=e[a];return t}function Ka(i){const e=i.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ka(e)}function ys(i){if(i)for(let e=0;e<i.length;e++)i[e].flags|=8}const Q0=Symbol.for("v-scx"),ef=()=>Li(Q0);function Rn(i,e,t){return qa(i,e,t)}function qa(i,e,t=Q){const{immediate:n,deep:r,flush:s,once:a}=t,o=ge({},t),l=e&&n||!e&&s!=="post";let u;if(di){if(s==="sync"){const m=ef();u=m.__watcherHandles||(m.__watcherHandles=[])}else if(!l){const m=()=>{};return m.stop=ke,m.resume=ke,m.pause=ke,m}}const f=pe;o.call=(m,g,x)=>Ge(m,f,g,x);let c=!1;s==="post"?o.scheduler=m=>{be(m,f&&f.suspense)}:s!=="sync"&&(c=!0,o.scheduler=(m,g)=>{g?m():Ir(m)}),o.augmentJob=m=>{e&&(m.flags|=4),c&&(m.flags|=2,f&&(m.id=f.uid,m.i=f))};const d=d0(i,e,o);return di&&(u?u.push(d):l&&d()),d}function tf(i,e,t){const n=this.proxy,r=oe(i)?i.includes(".")?Ya(n,i):()=>n[i]:i.bind(n,n);let s;B(e)?s=e:(s=e.handler,t=e);const a=yi(this),o=qa(r,s.bind(n),t);return a(),o}function Ya(i,e){const t=e.split(".");return()=>{let n=i;for(let r=0;r<t.length&&n;r++)n=n[t[r]];return n}}const nf=(i,e)=>e==="modelValue"||e==="model-value"?i.modelModifiers:i[`${e}Modifiers`]||i[`${lt(e)}Modifiers`]||i[`${bt(e)}Modifiers`];function rf(i,e,...t){if(i.isUnmounted)return;const n=i.vnode.props||Q;let r=t;const s=e.startsWith("update:"),a=s&&nf(n,e.slice(7));a&&(a.trim&&(r=t.map(f=>oe(f)?f.trim():f)),a.number&&(r=t.map(Il)));let o,l=n[o=Dn(e)]||n[o=Dn(lt(e))];!l&&s&&(l=n[o=Dn(bt(e))]),l&&Ge(l,i,6,r);const u=n[o+"Once"];if(u){if(!i.emitted)i.emitted={};else if(i.emitted[o])return;i.emitted[o]=!0,Ge(u,i,6,r)}}const sf=new WeakMap;function Xa(i,e,t=!1){const n=t?sf:e.emitsCache,r=n.get(i);if(r!==void 0)return r;const s=i.emits;let a={},o=!1;if(!B(i)){const l=u=>{const f=Xa(u,e,!0);f&&(o=!0,ge(a,f))};!t&&e.mixins.length&&e.mixins.forEach(l),i.extends&&l(i.extends),i.mixins&&i.mixins.forEach(l)}return!s&&!o?(ae(i)&&n.set(i,null),null):(N(s)?s.forEach(l=>a[l]=null):ge(a,s),ae(i)&&n.set(i,a),a)}function cn(i,e){return!i||!sn(e)?!1:(e=e.slice(2).replace(/Once$/,""),z(i,e[0].toLowerCase()+e.slice(1))||z(i,bt(e))||z(i,e))}function vs(i){const{type:e,vnode:t,proxy:n,withProxy:r,propsOptions:[s],slots:a,attrs:o,emit:l,render:u,renderCache:f,props:c,data:d,setupState:m,ctx:g,inheritAttrs:x}=i,F=Hi(i);let P,E;try{if(t.shapeFlag&4){const U=r||n,M=U;P=Be(u.call(M,U,f,c,m,d,g)),E=o}else{const U=e;P=Be(U.length>1?U(c,{attrs:o,slots:a,emit:l}):U(c,null)),E=e.props?o:af(o)}}catch(U){ai.length=0,fn(U,i,1),P=yt(It)}let G=P;if(E&&x!==!1){const U=Object.keys(E),{shapeFlag:M}=G;U.length&&M&7&&(s&&U.some(vr)&&(E=of(E,s)),G=Ot(G,E,!1,!0))}return t.dirs&&(G=Ot(G,null,!1,!0),G.dirs=G.dirs?G.dirs.concat(t.dirs):t.dirs),t.transition&&Or(G,t.transition),P=G,Hi(F),P}const af=i=>{let e;for(const t in i)(t==="class"||t==="style"||sn(t))&&((e||(e={}))[t]=i[t]);return e},of=(i,e)=>{const t={};for(const n in i)(!vr(n)||!(n.slice(9)in e))&&(t[n]=i[n]);return t};function lf(i,e,t){const{props:n,children:r,component:s}=i,{props:a,children:o,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return n?Ss(n,a,u):!!a;if(l&8){const f=e.dynamicProps;for(let c=0;c<f.length;c++){const d=f[c];if(a[d]!==n[d]&&!cn(u,d))return!0}}}else return(r||o)&&(!o||!o.$stable)?!0:n===a?!1:n?a?Ss(n,a,u):!0:!!a;return!1}function Ss(i,e,t){const n=Object.keys(e);if(n.length!==Object.keys(i).length)return!0;for(let r=0;r<n.length;r++){const s=n[r];if(e[s]!==i[s]&&!cn(t,s))return!0}return!1}function ff({vnode:i,parent:e},t){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===i&&(n.el=i.el),n===i)(i=e.vnode).el=t,e=e.parent;else break}}const Ja=i=>i.__isSuspense;function uf(i,e){e&&e.pendingBranch?N(i)?e.effects.push(...i):e.effects.push(i):g0(i)}const Ke=Symbol.for("v-fgt"),dn=Symbol.for("v-txt"),It=Symbol.for("v-cmt"),Nn=Symbol.for("v-stc"),ai=[];let _e=null;function cf(i=!1){ai.push(_e=i?null:[])}function df(){ai.pop(),_e=ai[ai.length-1]||null}let ci=1;function bs(i,e=!1){ci+=i,i<0&&_e&&e&&(_e.hasOnce=!0)}function hf(i){return i.dynamicChildren=ci>0?_e||Pt:null,df(),ci>0&&_e&&_e.push(i),i}function pf(i,e,t,n,r,s){return hf(Rr(i,e,t,n,r,s,!0))}function Za(i){return i?i.__v_isVNode===!0:!1}function kt(i,e){return i.type===e.type&&i.key===e.key}const Qa=({key:i})=>i??null,Ri=({ref:i,ref_key:e,ref_for:t})=>(typeof i=="number"&&(i=""+i),i!=null?oe(i)||me(i)||B(i)?{i:$e,r:i,k:e,f:!!t}:i:null);function Rr(i,e=null,t=null,n=0,r=null,s=i===Ke?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:i,props:e,key:e&&Qa(e),ref:e&&Ri(e),scopeId:Ea,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:$e};return o?(Nr(l,t),s&128&&i.normalize(l)):t&&(l.shapeFlag|=oe(t)?8:16),ci>0&&!a&&_e&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&_e.push(l),l}const yt=mf;function mf(i,e=null,t=null,n=0,r=null,s=!1){if((!i||i===O0)&&(i=It),Za(i)){const o=Ot(i,e,!0);return t&&Nr(o,t),ci>0&&!s&&_e&&(o.shapeFlag&6?_e[_e.indexOf(i)]=o:_e.push(o)),o.patchFlag=-2,o}if(Cf(i)&&(i=i.__vccOpts),e){e=gf(e);let{class:o,style:l}=e;o&&!oe(o)&&(e.class=_r(o)),ae(l)&&(Ur(l)&&!N(l)&&(l=ge({},l)),e.style=Tr(l))}const a=oe(i)?1:Ja(i)?128:v0(i)?64:ae(i)?4:B(i)?2:0;return Rr(i,e,t,n,r,a,s,!0)}function gf(i){return i?Ur(i)||Va(i)?ge({},i):i:null}function Ot(i,e,t=!1,n=!1){const{props:r,ref:s,patchFlag:a,children:o,transition:l}=i,u=e?yf(r||{},e):r,f={__v_isVNode:!0,__v_skip:!0,type:i.type,props:u,key:u&&Qa(u),ref:e&&e.ref?t&&s?N(s)?s.concat(Ri(e)):[s,Ri(e)]:Ri(e):s,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:o,target:i.target,targetStart:i.targetStart,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:e&&i.type!==Ke?a===-1?16:a|16:a,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:l,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&Ot(i.ssContent),ssFallback:i.ssFallback&&Ot(i.ssFallback),placeholder:i.placeholder,el:i.el,anchor:i.anchor,ctx:i.ctx,ce:i.ce};return l&&n&&Or(f,l.clone(f)),f}function xf(i=" ",e=0){return yt(dn,null,i,e)}function Be(i){return i==null||typeof i=="boolean"?yt(It):N(i)?yt(Ke,null,i.slice()):Za(i)?st(i):yt(dn,null,String(i))}function st(i){return i.el===null&&i.patchFlag!==-1||i.memo?i:Ot(i)}function Nr(i,e){let t=0;const{shapeFlag:n}=i;if(e==null)e=null;else if(N(e))t=16;else if(typeof e=="object")if(n&65){const r=e.default;r&&(r._c&&(r._d=!1),Nr(i,r()),r._c&&(r._d=!0));return}else{t=32;const r=e._;!r&&!Va(e)?e._ctx=$e:r===3&&$e&&($e.slots._===1?e._=1:(e._=2,i.patchFlag|=1024))}else B(e)?(e={default:e,_ctx:$e},t=32):(e=String(e),n&64?(t=16,e=[xf(e)]):t=8);i.children=e,i.shapeFlag|=t}function yf(...i){const e={};for(let t=0;t<i.length;t++){const n=i[t];for(const r in n)if(r==="class")e.class!==n.class&&(e.class=_r([e.class,n.class]));else if(r==="style")e.style=Tr([e.style,n.style]);else if(sn(r)){const s=e[r],a=n[r];a&&s!==a&&!(N(s)&&s.includes(a))&&(e[r]=s?[].concat(s,a):a)}else r!==""&&(e[r]=n[r])}return e}function Re(i,e,t,n=null){Ge(i,e,7,[t,n])}const vf=Na();let Sf=0;function bf(i,e,t){const n=i.type,r=(e?e.appContext:i.appContext)||vf,s={uid:Sf++,vnode:i,type:n,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new $l(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ha(n,r),emitsOptions:Xa(n,r),emit:null,emitted:null,propsDefaults:Q,inheritAttrs:n.inheritAttrs,ctx:Q,data:Q,props:Q,attrs:Q,slots:Q,refs:Q,setupState:Q,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=rf.bind(null,s),i.ce&&i.ce(s),s}let pe=null;const Tf=()=>pe||$e;let zi,or;{const i=ln(),e=(t,n)=>{let r;return(r=i[t])||(r=i[t]=[]),r.push(n),s=>{r.length>1?r.forEach(a=>a(s)):r[0](s)}};zi=e("__VUE_INSTANCE_SETTERS__",t=>pe=t),or=e("__VUE_SSR_SETTERS__",t=>di=t)}const yi=i=>{const e=pe;return zi(i),i.scope.on(),()=>{i.scope.off(),zi(e)}},Ts=()=>{pe&&pe.scope.off(),zi(null)};function eo(i){return i.vnode.shapeFlag&4}let di=!1;function _f(i,e=!1,t=!1){e&&or(e);const{props:n,children:r}=i.vnode,s=eo(i);G0(i,n,s,e),K0(i,r,t||e);const a=s?wf(i,e):void 0;return e&&or(!1),a}function wf(i,e){const t=i.type;i.accessCache=Object.create(null),i.proxy=new Proxy(i.ctx,M0);const{setup:n}=t;if(n){Xe();const r=i.setupContext=n.length>1?Af(i):null,s=yi(i),a=xi(n,i,0,[i.props,r]),o=sa(a);if(Je(),s(),(o||i.sp)&&!ri(i)&&Ua(i),o){if(a.then(Ts,Ts),e)return a.then(l=>{_s(i,l)}).catch(l=>{fn(l,i,0)});i.asyncDep=a}else _s(i,a)}else to(i)}function _s(i,e,t){B(e)?i.type.__ssrInlineRender?i.ssrRender=e:i.render=e:ae(e)&&(i.setupState=Fa(e)),to(i)}function to(i,e,t){const n=i.type;i.render||(i.render=n.render||ke);{const r=yi(i);Xe();try{L0(i)}finally{Je(),r()}}}const Ff={get(i,e){return fe(i,"get",""),i[e]}};function Af(i){const e=t=>{i.exposed=t||{}};return{attrs:new Proxy(i.attrs,Ff),slots:i.slots,emit:i.emit,expose:e}}function Br(i){return i.exposed?i.exposeProxy||(i.exposeProxy=new Proxy(Fa(a0(i.exposed)),{get(e,t){if(t in e)return e[t];if(t in si)return si[t](i)},has(e,t){return t in e||t in si}})):i.proxy}function Cf(i){return B(i)&&"__vccOpts"in i}const Pf=(i,e)=>u0(i,e,di),Df="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let lr;const ws=typeof window<"u"&&window.trustedTypes;if(ws)try{lr=ws.createPolicy("vue",{createHTML:i=>i})}catch{}const io=lr?i=>lr.createHTML(i):i=>i,Ef="http://www.w3.org/2000/svg",Uf="http://www.w3.org/1998/Math/MathML",je=typeof document<"u"?document:null,Fs=je&&je.createElement("template"),If={insert:(i,e,t)=>{e.insertBefore(i,t||null)},remove:i=>{const e=i.parentNode;e&&e.removeChild(i)},createElement:(i,e,t,n)=>{const r=e==="svg"?je.createElementNS(Ef,i):e==="mathml"?je.createElementNS(Uf,i):t?je.createElement(i,{is:t}):je.createElement(i);return i==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:i=>je.createTextNode(i),createComment:i=>je.createComment(i),setText:(i,e)=>{i.nodeValue=e},setElementText:(i,e)=>{i.textContent=e},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>je.querySelector(i),setScopeId(i,e){i.setAttribute(e,"")},insertStaticContent(i,e,t,n,r,s){const a=t?t.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),t),!(r===s||!(r=r.nextSibling)););else{Fs.innerHTML=io(n==="svg"?`<svg>${i}</svg>`:n==="mathml"?`<math>${i}</math>`:i);const o=Fs.content;if(n==="svg"||n==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,t)}return[a?a.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},Of=Symbol("_vtc");function Mf(i,e,t){const n=i[Of];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?i.removeAttribute("class"):t?i.setAttribute("class",e):i.className=e}const As=Symbol("_vod"),Lf=Symbol("_vsh"),Rf=Symbol(""),Nf=/(?:^|;)\s*display\s*:/;function Bf(i,e,t){const n=i.style,r=oe(t);let s=!1;if(t&&!r){if(e)if(oe(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();t[o]==null&&Ni(n,o,"")}else for(const a in e)t[a]==null&&Ni(n,a,"");for(const a in t)a==="display"&&(s=!0),Ni(n,a,t[a])}else if(r){if(e!==t){const a=n[Rf];a&&(t+=";"+a),n.cssText=t,s=Nf.test(t)}}else e&&i.removeAttribute("style");As in i&&(i[As]=s?n.display:"",i[Lf]&&(n.display="none"))}const Cs=/\s*!important$/;function Ni(i,e,t){if(N(t))t.forEach(n=>Ni(i,e,n));else if(t==null&&(t=""),e.startsWith("--"))i.setProperty(e,t);else{const n=$f(i,e);Cs.test(t)?i.setProperty(bt(n),t.replace(Cs,""),"important"):i[n]=t}}const Ps=["Webkit","Moz","ms"],Bn={};function $f(i,e){const t=Bn[e];if(t)return t;let n=lt(e);if(n!=="filter"&&n in i)return Bn[e]=n;n=aa(n);for(let r=0;r<Ps.length;r++){const s=Ps[r]+n;if(s in i)return Bn[e]=s}return e}const Ds="http://www.w3.org/1999/xlink";function Es(i,e,t,n,r,s=Bl(e)){n&&e.startsWith("xlink:")?t==null?i.removeAttributeNS(Ds,e.slice(6,e.length)):i.setAttributeNS(Ds,e,t):t==null||s&&!la(t)?i.removeAttribute(e):i.setAttribute(e,s?"":Lt(t)?String(t):t)}function Us(i,e,t,n,r){if(e==="innerHTML"||e==="textContent"){t!=null&&(i[e]=e==="innerHTML"?io(t):t);return}const s=i.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const o=s==="OPTION"?i.getAttribute("value")||"":i.value,l=t==null?i.type==="checkbox"?"on":"":String(t);(o!==l||!("_value"in i))&&(i.value=l),t==null&&i.removeAttribute(e),i._value=t;return}let a=!1;if(t===""||t==null){const o=typeof i[e];o==="boolean"?t=la(t):t==null&&o==="string"?(t="",a=!0):o==="number"&&(t=0,a=!0)}try{i[e]=t}catch{}a&&i.removeAttribute(r||e)}function Vf(i,e,t,n){i.addEventListener(e,t,n)}function kf(i,e,t,n){i.removeEventListener(e,t,n)}const Is=Symbol("_vei");function Hf(i,e,t,n,r=null){const s=i[Is]||(i[Is]={}),a=s[e];if(n&&a)a.value=n;else{const[o,l]=Gf(e);if(n){const u=s[e]=jf(n,r);Vf(i,o,u,l)}else a&&(kf(i,o,a,l),s[e]=void 0)}}const Os=/(?:Once|Passive|Capture)$/;function Gf(i){let e;if(Os.test(i)){e={};let n;for(;n=i.match(Os);)i=i.slice(0,i.length-n[0].length),e[n[0].toLowerCase()]=!0}return[i[2]===":"?i.slice(3):bt(i.slice(2)),e]}let $n=0;const Wf=Promise.resolve(),zf=()=>$n||(Wf.then(()=>$n=0),$n=Date.now());function jf(i,e){const t=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=t.attached)return;Ge(Kf(n,t.value),e,5,[n])};return t.value=i,t.attached=zf(),t}function Kf(i,e){if(N(e)){const t=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{t.call(i),i._stopped=!0},e.map(n=>r=>!r._stopped&&n&&n(r))}else return e}const Ms=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)>96&&i.charCodeAt(2)<123,qf=(i,e,t,n,r,s)=>{const a=r==="svg";e==="class"?Mf(i,n,a):e==="style"?Bf(i,t,n):sn(e)?vr(e)||Hf(i,e,t,n,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Yf(i,e,n,a))?(Us(i,e,n),!i.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Es(i,e,n,a,s,e!=="value")):i._isVueCE&&(/[A-Z]/.test(e)||!oe(n))?Us(i,lt(e),n,s,e):(e==="true-value"?i._trueValue=n:e==="false-value"&&(i._falseValue=n),Es(i,e,n,a))};function Yf(i,e,t,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in i&&Ms(e)&&B(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&i.tagName==="INPUT"||e==="type"&&i.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=i.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Ms(e)&&oe(t)?!1:e in i}const Xf=ge({patchProp:qf},If);let Ls;function Jf(){return Ls||(Ls=Y0(Xf))}const Zf=(...i)=>{const e=Jf().createApp(...i),{mount:t}=e;return e.mount=n=>{const r=eu(n);if(!r)return;const s=e._component;!B(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const a=t(r,!1,Qf(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},e};function Qf(i){if(i instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&i instanceof MathMLElement)return"mathml"}function eu(i){return oe(i)?document.querySelector(i):i}var Rs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tu(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Tt=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var r;return e[t]?(r=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(r,1),r>-1):!1},this.trigger=function(t){var n,r,s,a;if(n=e[t],!!n)if(arguments.length===2)for(s=n.length,r=0;r<s;++r)n[r].call(this,arguments[1]);else{for(a=[],r=arguments.length,r=1;r<arguments.length;++r)a.push(arguments[r]);for(s=n.length,r=0;r<s;++r)n[r].apply(this,a)}},this.dispose=function(){e={}}}};Tt.prototype.pipe=function(i){return this.on("data",function(e){i.push(e)}),this.on("done",function(e){i.flush(e)}),this.on("partialdone",function(e){i.partialFlush(e)}),this.on("endedtimeline",function(e){i.endTimeline(e)}),this.on("reset",function(e){i.reset(e)}),i};Tt.prototype.push=function(i){this.trigger("data",i)};Tt.prototype.flush=function(i){this.trigger("done",i)};Tt.prototype.partialFlush=function(i){this.trigger("partialdone",i)};Tt.prototype.endTimeline=function(i){this.trigger("endedtimeline",i)};Tt.prototype.reset=function(i){this.trigger("reset",i)};var we=Tt,$r=9e4,Vr,kr,hn,Hr,no,ro,so;Vr=function(e){return e*$r};kr=function(e,t){return e*t};hn=function(e){return e/$r};Hr=function(e,t){return e/t};no=function(e,t){return Vr(Hr(e,t))};ro=function(e,t){return kr(hn(e),t)};so=function(e,t,n){return hn(n?e:e-t)};var ft={ONE_SECOND_IN_TS:$r,secondsToVideoTs:Vr,secondsToAudioTs:kr,videoTsToSeconds:hn,audioTsToSeconds:Hr,audioTsToVideoTs:no,videoTsToAudioTs:ro,metadataTsToSeconds:so},iu=we,nu=ft.ONE_SECOND_IN_TS,ji,Ns=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];ji=function(e){var t,n=0;ji.prototype.init.call(this),this.skipWarn_=function(r,s){this.trigger("log",{level:"warn",message:"adts skiping bytes "+r+" to "+s+" in frame "+n+" outside syncword"})},this.push=function(r){var s=0,a,o,l,u,f;if(e||(n=0),r.type==="audio"){t&&t.length?(l=t,t=new Uint8Array(l.byteLength+r.data.byteLength),t.set(l),t.set(r.data,l.byteLength)):t=r.data;for(var c;s+7<t.length;){if(t[s]!==255||(t[s+1]&246)!==240){typeof c!="number"&&(c=s),s++;continue}if(typeof c=="number"&&(this.skipWarn_(c,s),c=null),o=(~t[s+1]&1)*2,a=(t[s+3]&3)<<11|t[s+4]<<3|(t[s+5]&224)>>5,u=((t[s+6]&3)+1)*1024,f=u*nu/Ns[(t[s+2]&60)>>>2],t.byteLength-s<a)break;this.trigger("data",{pts:r.pts+n*f,dts:r.dts+n*f,sampleCount:u,audioobjecttype:(t[s+2]>>>6&3)+1,channelcount:(t[s+2]&1)<<2|(t[s+3]&192)>>>6,samplerate:Ns[(t[s+2]&60)>>>2],samplingfrequencyindex:(t[s+2]&60)>>>2,samplesize:16,data:t.subarray(s+7+o,s+a)}),n++,s+=a}typeof c=="number"&&(this.skipWarn_(c,s),c=null),t=t.subarray(s)}},this.flush=function(){n=0,this.trigger("done")},this.reset=function(){t=void 0,this.trigger("reset")},this.endTimeline=function(){t=void 0,this.trigger("endedtimeline")}};ji.prototype=new iu;var pn=ji,ao;ao=function(e){var t=e.byteLength,n=0,r=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+r},this.loadWord=function(){var s=e.byteLength-t,a=new Uint8Array(4),o=Math.min(4,t);if(o===0)throw new Error("no bytes available");a.set(e.subarray(s,s+o)),n=new DataView(a.buffer).getUint32(0),r=o*8,t-=o},this.skipBits=function(s){var a;r>s?(n<<=s,r-=s):(s-=r,a=Math.floor(s/8),s-=a*8,t-=a,this.loadWord(),n<<=s,r-=s)},this.readBits=function(s){var a=Math.min(r,s),o=n>>>32-a;return r-=a,r>0?n<<=a:t>0&&this.loadWord(),a=s-a,a>0?o<<a|this.readBits(a):o},this.skipLeadingZeros=function(){var s;for(s=0;s<r;++s)if(n&2147483648>>>s)return n<<=s,r-=s,s;return this.loadWord(),s+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var s=this.skipLeadingZeros();return this.readBits(s+1)-1},this.readExpGolomb=function(){var s=this.readUnsignedExpGolomb();return 1&s?1+s>>>1:-1*(s>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var ru=ao,oo=we,su=ru,Ki,hi,lo;hi=function(){var e=0,t,n;hi.prototype.init.call(this),this.push=function(r){var s;n?(s=new Uint8Array(n.byteLength+r.data.byteLength),s.set(n),s.set(r.data,n.byteLength),n=s):n=r.data;for(var a=n.byteLength;e<a-3;e++)if(n[e+2]===1){t=e+5;break}for(;t<a;)switch(n[t]){case 0:if(n[t-1]!==0){t+=2;break}else if(n[t-2]!==0){t++;break}e+3!==t-2&&this.trigger("data",n.subarray(e+3,t-2));do t++;while(n[t]!==1&&t<a);e=t-2,t+=3;break;case 1:if(n[t-1]!==0||n[t-2]!==0){t+=3;break}this.trigger("data",n.subarray(e+3,t-2)),e=t-2,t+=3;break;default:t+=3;break}n=n.subarray(e),t-=e,e=0},this.reset=function(){n=null,e=0,this.trigger("reset")},this.flush=function(){n&&n.byteLength>3&&this.trigger("data",n.subarray(e+3)),n=null,e=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}};hi.prototype=new oo;lo={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0};Ki=function(){var e=new hi,t,n,r,s,a,o,l;Ki.prototype.init.call(this),t=this,this.push=function(u){u.type==="video"&&(n=u.trackId,r=u.pts,s=u.dts,e.push(u))},e.on("data",function(u){var f={trackId:n,pts:r,dts:s,data:u,nalUnitTypeCode:u[0]&31};switch(f.nalUnitTypeCode){case 5:f.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:f.nalUnitType="sei_rbsp",f.escapedRBSP=a(u.subarray(1));break;case 7:f.nalUnitType="seq_parameter_set_rbsp",f.escapedRBSP=a(u.subarray(1)),f.config=o(f.escapedRBSP);break;case 8:f.nalUnitType="pic_parameter_set_rbsp";break;case 9:f.nalUnitType="access_unit_delimiter_rbsp";break}t.trigger("data",f)}),e.on("done",function(){t.trigger("done")}),e.on("partialdone",function(){t.trigger("partialdone")}),e.on("reset",function(){t.trigger("reset")}),e.on("endedtimeline",function(){t.trigger("endedtimeline")}),this.flush=function(){e.flush()},this.partialFlush=function(){e.partialFlush()},this.reset=function(){e.reset()},this.endTimeline=function(){e.endTimeline()},l=function(f,c){var d=8,m=8,g,x;for(g=0;g<f;g++)m!==0&&(x=c.readExpGolomb(),m=(d+x+256)%256),d=m===0?d:m},a=function(f){for(var c=f.byteLength,d=[],m=1,g,x;m<c-2;)f[m]===0&&f[m+1]===0&&f[m+2]===3?(d.push(m+2),m+=2):m++;if(d.length===0)return f;g=c-d.length,x=new Uint8Array(g);var F=0;for(m=0;m<g;F++,m++)F===d[0]&&(F++,d.shift()),x[m]=f[F];return x},o=function(f){var c=0,d=0,m=0,g=0,x,F,P,E,G,U,M,L,V,te,se,H=[1,1],et,Ae;if(x=new su(f),F=x.readUnsignedByte(),E=x.readUnsignedByte(),P=x.readUnsignedByte(),x.skipUnsignedExpGolomb(),lo[F]&&(G=x.readUnsignedExpGolomb(),G===3&&x.skipBits(1),x.skipUnsignedExpGolomb(),x.skipUnsignedExpGolomb(),x.skipBits(1),x.readBoolean()))for(se=G!==3?8:12,Ae=0;Ae<se;Ae++)x.readBoolean()&&(Ae<6?l(16,x):l(64,x));if(x.skipUnsignedExpGolomb(),U=x.readUnsignedExpGolomb(),U===0)x.readUnsignedExpGolomb();else if(U===1)for(x.skipBits(1),x.skipExpGolomb(),x.skipExpGolomb(),M=x.readUnsignedExpGolomb(),Ae=0;Ae<M;Ae++)x.skipExpGolomb();if(x.skipUnsignedExpGolomb(),x.skipBits(1),L=x.readUnsignedExpGolomb(),V=x.readUnsignedExpGolomb(),te=x.readBits(1),te===0&&x.skipBits(1),x.skipBits(1),x.readBoolean()&&(c=x.readUnsignedExpGolomb(),d=x.readUnsignedExpGolomb(),m=x.readUnsignedExpGolomb(),g=x.readUnsignedExpGolomb()),x.readBoolean()&&x.readBoolean()){switch(et=x.readUnsignedByte(),et){case 1:H=[1,1];break;case 2:H=[12,11];break;case 3:H=[10,11];break;case 4:H=[16,11];break;case 5:H=[40,33];break;case 6:H=[24,11];break;case 7:H=[20,11];break;case 8:H=[32,11];break;case 9:H=[80,33];break;case 10:H=[18,11];break;case 11:H=[15,11];break;case 12:H=[64,33];break;case 13:H=[160,99];break;case 14:H=[4,3];break;case 15:H=[3,2];break;case 16:H=[2,1];break;case 255:{H=[x.readUnsignedByte()<<8|x.readUnsignedByte(),x.readUnsignedByte()<<8|x.readUnsignedByte()];break}}H&&H[0]/H[1]}return{profileIdc:F,levelIdc:P,profileCompatibility:E,width:(L+1)*16-c*2-d*2,height:(2-te)*(V+1)*16-m*2-g*2,sarRatio:H}}};Ki.prototype=new oo;var Gr={H264Stream:Ki,NalByteStream:hi},fo={Adts:pn,h264:Gr},uo=Math.pow(2,32),au=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n;return t.getBigUint64?(n=t.getBigUint64(0),n<Number.MAX_SAFE_INTEGER?Number(n):n):t.getUint32(0)*uo+t.getUint32(4)},Rt={getUint64:au,MAX_UINT32:uo},Bs=Rt.MAX_UINT32,$,co,ho,fr,po,mo,go,xo,ur,yo,vo,So,bo,To,_o,wo,Fo,Ao,Co,Po,Do,cr,R,dr,Eo,Uo,$s,Vs,Io,Oo,Mo,Lo,Bi,Ro,No,Bo;(function(){var i;if(R={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(i in R)R.hasOwnProperty(i)&&(R[i]=[i.charCodeAt(0),i.charCodeAt(1),i.charCodeAt(2),i.charCodeAt(3)]);dr=new Uint8Array([105,115,111,109]),Uo=new Uint8Array([97,118,99,49]),Eo=new Uint8Array([0,0,0,1]),$s=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Vs=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),Io={video:$s,audio:Vs},Lo=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Mo=new Uint8Array([0,0,0,0,0,0,0,0]),Bi=new Uint8Array([0,0,0,0,0,0,0,0]),Ro=Bi,No=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Bo=Bi,Oo=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})();$=function(e){var t=[],n=0,r,s,a;for(r=1;r<arguments.length;r++)t.push(arguments[r]);for(r=t.length;r--;)n+=t[r].byteLength;for(s=new Uint8Array(n+8),a=new DataView(s.buffer,s.byteOffset,s.byteLength),a.setUint32(0,s.byteLength),s.set(e,4),r=0,n=8;r<t.length;r++)s.set(t[r],n),n+=t[r].byteLength;return s};co=function(){return $(R.dinf,$(R.dref,Lo))};ho=function(e){return $(R.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))};fr=function(){return $(R.ftyp,dr,Eo,dr,Uo)};wo=function(e){return $(R.hdlr,Io[e])};po=function(e){return $(R.mdat,e)};_o=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,e.duration&255,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=e.samplerate&255),$(R.mdhd,t)};To=function(e){return $(R.mdia,_o(e),wo(e.type),go(e))};mo=function(e){return $(R.mfhd,new Uint8Array([0,0,0,0,(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255]))};go=function(e){return $(R.minf,e.type==="video"?$(R.vmhd,Oo):$(R.smhd,Mo),co(),Ao(e))};xo=function(e,t){for(var n=[],r=t.length;r--;)n[r]=Po(t[r]);return $.apply(null,[R.moof,mo(e)].concat(n))};ur=function(e){for(var t=e.length,n=[];t--;)n[t]=So(e[t]);return $.apply(null,[R.moov,vo(4294967295)].concat(n).concat(yo(e)))};yo=function(e){for(var t=e.length,n=[];t--;)n[t]=Do(e[t]);return $.apply(null,[R.mvex].concat(n))};vo=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return $(R.mvhd,t)};Fo=function(e){var t=e.samples||[],n=new Uint8Array(4+t.length),r,s;for(s=0;s<t.length;s++)r=t[s].flags,n[s+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return $(R.sdtp,n)};Ao=function(e){return $(R.stbl,Co(e),$(R.stts,Bo),$(R.stsc,Ro),$(R.stsz,No),$(R.stco,Bi))};(function(){var i,e;Co=function(n){return $(R.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),n.type==="video"?i(n):e(n))},i=function(n){var r=n.sps||[],s=n.pps||[],a=[],o=[],l,u;for(l=0;l<r.length;l++)a.push((r[l].byteLength&65280)>>>8),a.push(r[l].byteLength&255),a=a.concat(Array.prototype.slice.call(r[l]));for(l=0;l<s.length;l++)o.push((s[l].byteLength&65280)>>>8),o.push(s[l].byteLength&255),o=o.concat(Array.prototype.slice.call(s[l]));if(u=[R.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(n.width&65280)>>8,n.width&255,(n.height&65280)>>8,n.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),$(R.avcC,new Uint8Array([1,n.profileIdc,n.profileCompatibility,n.levelIdc,255].concat([r.length],a,[s.length],o))),$(R.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],n.sarRatio){var f=n.sarRatio[0],c=n.sarRatio[1];u.push($(R.pasp,new Uint8Array([(f&4278190080)>>24,(f&16711680)>>16,(f&65280)>>8,f&255,(c&4278190080)>>24,(c&16711680)>>16,(c&65280)>>8,c&255])))}return $.apply(null,u)},e=function(n){return $(R.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(n.channelcount&65280)>>8,n.channelcount&255,(n.samplesize&65280)>>8,n.samplesize&255,0,0,0,0,(n.samplerate&65280)>>8,n.samplerate&255,0,0]),ho(n))}})();bo=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(e.id&4278190080)>>24,(e.id&16711680)>>16,(e.id&65280)>>8,e.id&255,0,0,0,0,(e.duration&4278190080)>>24,(e.duration&16711680)>>16,(e.duration&65280)>>8,e.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(e.width&65280)>>8,e.width&255,0,0,(e.height&65280)>>8,e.height&255,0,0]);return $(R.tkhd,t)};Po=function(e){var t,n,r,s,a,o,l;return t=$(R.tfhd,new Uint8Array([0,0,0,58,(e.id&4278190080)>>24,(e.id&16711680)>>16,(e.id&65280)>>8,e.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),o=Math.floor(e.baseMediaDecodeTime/Bs),l=Math.floor(e.baseMediaDecodeTime%Bs),n=$(R.tfdt,new Uint8Array([1,0,0,0,o>>>24&255,o>>>16&255,o>>>8&255,o&255,l>>>24&255,l>>>16&255,l>>>8&255,l&255])),a=92,e.type==="audio"?(r=cr(e,a),$(R.traf,t,n,r)):(s=Fo(e),r=cr(e,s.length+a),$(R.traf,t,n,r,s))};So=function(e){return e.duration=e.duration||4294967295,$(R.trak,bo(e),To(e))};Do=function(e){var t=new Uint8Array([0,0,0,0,(e.id&4278190080)>>24,(e.id&16711680)>>16,(e.id&65280)>>8,e.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return e.type!=="video"&&(t[t.length-1]=0),$(R.trex,t)};(function(){var i,e,t;t=function(r,s){var a=0,o=0,l=0,u=0;return r.length&&(r[0].duration!==void 0&&(a=1),r[0].size!==void 0&&(o=2),r[0].flags!==void 0&&(l=4),r[0].compositionTimeOffset!==void 0&&(u=8)),[0,0,a|o|l|u,1,(r.length&4278190080)>>>24,(r.length&16711680)>>>16,(r.length&65280)>>>8,r.length&255,(s&4278190080)>>>24,(s&16711680)>>>16,(s&65280)>>>8,s&255]},e=function(r,s){var a,o,l,u,f,c;for(u=r.samples||[],s+=20+16*u.length,l=t(u,s),o=new Uint8Array(l.length+u.length*16),o.set(l),a=l.length,c=0;c<u.length;c++)f=u[c],o[a++]=(f.duration&4278190080)>>>24,o[a++]=(f.duration&16711680)>>>16,o[a++]=(f.duration&65280)>>>8,o[a++]=f.duration&255,o[a++]=(f.size&4278190080)>>>24,o[a++]=(f.size&16711680)>>>16,o[a++]=(f.size&65280)>>>8,o[a++]=f.size&255,o[a++]=f.flags.isLeading<<2|f.flags.dependsOn,o[a++]=f.flags.isDependedOn<<6|f.flags.hasRedundancy<<4|f.flags.paddingValue<<1|f.flags.isNonSyncSample,o[a++]=f.flags.degradationPriority&61440,o[a++]=f.flags.degradationPriority&15,o[a++]=(f.compositionTimeOffset&4278190080)>>>24,o[a++]=(f.compositionTimeOffset&16711680)>>>16,o[a++]=(f.compositionTimeOffset&65280)>>>8,o[a++]=f.compositionTimeOffset&255;return $(R.trun,o)},i=function(r,s){var a,o,l,u,f,c;for(u=r.samples||[],s+=20+8*u.length,l=t(u,s),a=new Uint8Array(l.length+u.length*8),a.set(l),o=l.length,c=0;c<u.length;c++)f=u[c],a[o++]=(f.duration&4278190080)>>>24,a[o++]=(f.duration&16711680)>>>16,a[o++]=(f.duration&65280)>>>8,a[o++]=f.duration&255,a[o++]=(f.size&4278190080)>>>24,a[o++]=(f.size&16711680)>>>16,a[o++]=(f.size&65280)>>>8,a[o++]=f.size&255;return $(R.trun,a)},cr=function(r,s){return r.type==="audio"?i(r,s):e(r,s)}})();var mn={ftyp:fr,mdat:po,moof:xo,moov:ur,initSegment:function(e){var t=fr(),n=ur(e),r;return r=new Uint8Array(t.byteLength+n.byteLength),r.set(t),r.set(n,t.byteLength),r}},ou=function(e){return e>>>0},lu=function(e){return("00"+e.toString(16)).slice(-2)},gn={toUnsigned:ou,toHexString:lu},fu=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3]),t},Wr=fu,uu=gn.toUnsigned,cu=Wr,du=function i(e,t){var n=[],r,s,a,o,l;if(!t.length)return null;for(r=0;r<e.byteLength;)s=uu(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]),a=cu(e.subarray(r+4,r+8)),o=s>1?r+s:e.byteLength,a===t[0]&&(t.length===1?n.push(e.subarray(r+8,o)):(l=i(e.subarray(r+8,o),t.slice(1)),l.length&&(n=n.concat(l)))),r=o;return n},zr=du,hu=function(e){for(var t=0,n=String.fromCharCode(e[t]),r="";n!=="\0";)r+=n,t++,n=String.fromCharCode(e[t]);return r+=n,r},pu={uint8ToCString:hu},Fi=pu.uint8ToCString,mu=Rt.getUint64,gu=function(e){var t=4,n=e[0],r,s,a,o,l,u,f,c;if(n===0){r=Fi(e.subarray(t)),t+=r.length,s=Fi(e.subarray(t)),t+=s.length;var d=new DataView(e.buffer);a=d.getUint32(t),t+=4,l=d.getUint32(t),t+=4,u=d.getUint32(t),t+=4,f=d.getUint32(t),t+=4}else if(n===1){var d=new DataView(e.buffer);a=d.getUint32(t),t+=4,o=mu(e.subarray(t)),t+=8,u=d.getUint32(t),t+=4,f=d.getUint32(t),t+=4,r=Fi(e.subarray(t)),t+=r.length,s=Fi(e.subarray(t)),t+=s.length}c=new Uint8Array(e.subarray(t,e.byteLength));var m={scheme_id_uri:r,value:s,timescale:a||1,presentation_time:o,presentation_time_delta:l,event_duration:u,id:f,message_data:c};return yu(n,m)?m:void 0},xu=function(e,t,n,r){return e||e===0?e/t:r+n/t},yu=function(e,t){var n=t.scheme_id_uri!=="\0",r=e===0&&ks(t.presentation_time_delta)&&n,s=e===1&&ks(t.presentation_time)&&n;return!(e>1)&&r||s},ks=function(e){return e!==void 0||e!==null},vu={parseEmsgBox:gu,scaleTime:xu},Su=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4)},r=n.flags[2]&1,s=n.flags[2]&2,a=n.flags[2]&8,o=n.flags[2]&16,l=n.flags[2]&32,u=n.flags[0]&65536,f=n.flags[0]&131072,c;return c=8,r&&(c+=4,n.baseDataOffset=t.getUint32(12),c+=4),s&&(n.sampleDescriptionIndex=t.getUint32(c),c+=4),a&&(n.defaultSampleDuration=t.getUint32(c),c+=4),o&&(n.defaultSampleSize=t.getUint32(c),c+=4),l&&(n.defaultSampleFlags=t.getUint32(c)),u&&(n.durationIsEmpty=!0),!r&&f&&(n.baseDataOffsetIsMoof=!0),n},jr=Su,bu=function(e){return{isLeading:(e[0]&12)>>>2,dependsOn:e[0]&3,isDependedOn:(e[1]&192)>>>6,hasRedundancy:(e[1]&48)>>>4,paddingValue:(e[1]&14)>>>1,isNonSyncSample:e[1]&1,degradationPriority:e[2]<<8|e[3]}},Tu=bu,Hs=Tu,_u=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=t.flags[2]&1,s=t.flags[2]&4,a=t.flags[1]&1,o=t.flags[1]&2,l=t.flags[1]&4,u=t.flags[1]&8,f=n.getUint32(4),c=8,d;for(r&&(t.dataOffset=n.getInt32(c),c+=4),s&&f&&(d={flags:Hs(e.subarray(c,c+4))},c+=4,a&&(d.duration=n.getUint32(c),c+=4),o&&(d.size=n.getUint32(c),c+=4),u&&(t.version===1?d.compositionTimeOffset=n.getInt32(c):d.compositionTimeOffset=n.getUint32(c),c+=4),t.samples.push(d),f--);f--;)d={},a&&(d.duration=n.getUint32(c),c+=4),o&&(d.size=n.getUint32(c),c+=4),l&&(d.flags=Hs(e.subarray(c,c+4)),c+=4),u&&(t.version===1?d.compositionTimeOffset=n.getInt32(c):d.compositionTimeOffset=n.getUint32(c),c+=4),t.samples.push(d);return t},Kr=_u,wu=gn.toUnsigned,Fu=Rt.getUint64,Au=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4))};return t.version===1?t.baseMediaDecodeTime=Fu(e.subarray(4)):t.baseMediaDecodeTime=wu(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),t},qr=Au,Yt;typeof window<"u"?Yt=window:typeof Rs<"u"?Yt=Rs:typeof self<"u"?Yt=self:Yt={};var $o=Yt,Cu=function(e,t,n){if(!e)return-1;for(var r=n;r<e.length;r++)if(e[r]===t)return r;return-1},Pu={typedArrayIndexOf:Cu},Ai=Pu.typedArrayIndexOf,Ci={Utf8:3},Vo=function(e,t,n){var r,s="";for(r=t;r<n;r++)s+="%"+("00"+e[r].toString(16)).slice(-2);return s},Ht=function(e,t,n){return decodeURIComponent(Vo(e,t,n))},Gt=function(e,t,n){return unescape(Vo(e,t,n))},Xt=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},Jt={APIC:function(e){var t=1,n,r,s="-->";e.data[0]===Ci.Utf8&&(n=Ai(e.data,0,t),!(n<0)&&(e.mimeType=Gt(e.data,t,n),t=n+1,e.pictureType=e.data[t],t++,r=Ai(e.data,0,t),!(r<0)&&(e.description=Ht(e.data,t,r),t=r+1,e.mimeType===s?e.url=Gt(e.data,t,e.data.length):e.pictureData=e.data.subarray(t,e.data.length))))},"T*":function(e){e.data[0]===Ci.Utf8&&(e.value=Ht(e.data,1,e.data.length).replace(/\0*$/,""),e.values=e.value.split("\0"))},TXXX:function(e){var t;e.data[0]===Ci.Utf8&&(t=Ai(e.data,0,1),t!==-1&&(e.description=Ht(e.data,1,t),e.value=Ht(e.data,t+1,e.data.length).replace(/\0*$/,""),e.data=e.value))},"W*":function(e){e.url=Gt(e.data,0,e.data.length).replace(/\0.*$/,"")},WXXX:function(e){var t;e.data[0]===Ci.Utf8&&(t=Ai(e.data,0,1),t!==-1&&(e.description=Ht(e.data,1,t),e.url=Gt(e.data,t+1,e.data.length).replace(/\0.*$/,"")))},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(e.data[t]===0){e.owner=Gt(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}},Du=function(e){var t,n,r=10,s=0,a=[];if(!(e.length<10||e[0]!==73||e[1]!==68||e[2]!==51)){s=Xt(e.subarray(6,10)),s+=10;var o=e[5]&64;o&&(r+=4,r+=Xt(e.subarray(10,14)),s-=Xt(e.subarray(16,20)));do{if(t=Xt(e.subarray(r+4,r+8)),t<1)break;n=String.fromCharCode(e[r],e[r+1],e[r+2],e[r+3]);var l={id:n,data:e.subarray(r+10,r+t+10)};l.key=l.id,Jt[l.id]?Jt[l.id](l):l.id[0]==="T"?Jt["T*"](l):l.id[0]==="W"&&Jt["W*"](l),a.push(l),r+=10,r+=t}while(r<s);return a}},ko={parseId3Frames:Du,parseSyncSafeInteger:Xt,frameParsers:Jt},qi=gn.toUnsigned,Wt=gn.toHexString,re=zr,Ct=Wr,Vn=vu,Eu=jr,Uu=Kr,Iu=qr,Ou=Rt.getUint64,Ho,Go,Wo,zo,jo,Yr,Ko,hr=$o,Mu=ko.parseId3Frames;Ho=function(e){var t={},n=re(e,["moov","trak"]);return n.reduce(function(r,s){var a,o,l,u,f;return a=re(s,["tkhd"])[0],!a||(o=a[0],l=o===0?12:20,u=qi(a[l]<<24|a[l+1]<<16|a[l+2]<<8|a[l+3]),f=re(s,["mdia","mdhd"])[0],!f)?null:(o=f[0],l=o===0?12:20,r[u]=qi(f[l]<<24|f[l+1]<<16|f[l+2]<<8|f[l+3]),r)},t)};Go=function(e,t){var n;n=re(t,["moof","traf"]);var r=n.reduce(function(s,a){var o=re(a,["tfhd"])[0],l=qi(o[4]<<24|o[5]<<16|o[6]<<8|o[7]),u=e[l]||9e4,f=re(a,["tfdt"])[0],c=new DataView(f.buffer,f.byteOffset,f.byteLength),d;f[0]===1?d=Ou(f.subarray(4,12)):d=c.getUint32(4);var m;return typeof d=="bigint"?m=d/hr.BigInt(u):typeof d=="number"&&!isNaN(d)&&(m=d/u),m<Number.MAX_SAFE_INTEGER&&(m=Number(m)),m<s&&(s=m),s},1/0);return typeof r=="bigint"||isFinite(r)?r:0};Wo=function(e,t){var n=re(t,["moof","traf"]),r=0,s=0,a;if(n&&n.length){var o=re(n[0],["tfhd"])[0],l=re(n[0],["trun"])[0],u=re(n[0],["tfdt"])[0];if(o){var f=Eu(o);a=f.trackId}if(u){var c=Iu(u);r=c.baseMediaDecodeTime}if(l){var d=Uu(l);d.samples&&d.samples.length&&(s=d.samples[0].compositionTimeOffset||0)}}var m=e[a]||9e4;typeof r=="bigint"&&(s=hr.BigInt(s),m=hr.BigInt(m));var g=(r+s)/m;return typeof g=="bigint"&&g<Number.MAX_SAFE_INTEGER&&(g=Number(g)),g};zo=function(e){var t=re(e,["moov","trak"]),n=[];return t.forEach(function(r){var s=re(r,["mdia","hdlr"]),a=re(r,["tkhd"]);s.forEach(function(o,l){var u=Ct(o.subarray(8,12)),f=a[l],c,d,m;u==="vide"&&(c=new DataView(f.buffer,f.byteOffset,f.byteLength),d=c.getUint8(0),m=d===0?c.getUint32(12):c.getUint32(20),n.push(m))})}),n};Yr=function(e){var t=e[0],n=t===0?12:20;return qi(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3])};jo=function(e){var t=re(e,["moov","trak"]),n=[];return t.forEach(function(r){var s={},a=re(r,["tkhd"])[0],o,l;a&&(o=new DataView(a.buffer,a.byteOffset,a.byteLength),l=o.getUint8(0),s.id=l===0?o.getUint32(12):o.getUint32(20));var u=re(r,["mdia","hdlr"])[0];if(u){var f=Ct(u.subarray(8,12));f==="vide"?s.type="video":f==="soun"?s.type="audio":s.type=f}var c=re(r,["mdia","minf","stbl","stsd"])[0];if(c){var d=c.subarray(8);s.codec=Ct(d.subarray(4,8));var m=re(d,[s.codec])[0],g,x;m&&(/^[asm]vc[1-9]$/i.test(s.codec)?(g=m.subarray(78),x=Ct(g.subarray(4,8)),x==="avcC"&&g.length>11?(s.codec+=".",s.codec+=Wt(g[9]),s.codec+=Wt(g[10]),s.codec+=Wt(g[11])):s.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(s.codec)?(g=m.subarray(28),x=Ct(g.subarray(4,8)),x==="esds"&&g.length>20&&g[19]!==0?(s.codec+="."+Wt(g[19]),s.codec+="."+Wt(g[20]>>>2&63).replace(/^0/,"")):s.codec="mp4a.40.2"):s.codec=s.codec.toLowerCase())}var F=re(r,["mdia","mdhd"])[0];F&&(s.timescale=Yr(F)),n.push(s)}),n};Ko=function(e,t){t===void 0&&(t=0);var n=re(e,["emsg"]);return n.map(function(r){var s=Vn.parseEmsgBox(new Uint8Array(r)),a=Mu(s.message_data);return{cueTime:Vn.scaleTime(s.presentation_time,s.timescale,s.presentation_time_delta,t),duration:Vn.scaleTime(s.event_duration,s.timescale),frames:a}})};var Lu={findBox:re,parseType:Ct,timescale:Ho,startTime:Go,compositionStartTime:Wo,videoTrackIds:zo,tracks:jo,getTimescaleFromMediaHeader:Yr,getEmsgID3:Ko},Ru=function(e){var t,n,r=[],s=[];for(s.byteLength=0,s.nalCount=0,s.duration=0,r.byteLength=0,t=0;t<e.length;t++)n=e[t],n.nalUnitType==="access_unit_delimiter_rbsp"?(r.length&&(r.duration=n.dts-r.dts,s.byteLength+=r.byteLength,s.nalCount+=r.length,s.duration+=r.duration,s.push(r)),r=[n],r.byteLength=n.data.byteLength,r.pts=n.pts,r.dts=n.dts):(n.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(r.keyFrame=!0),r.duration=n.dts-r.dts,r.byteLength+=n.data.byteLength,r.push(n));return s.length&&(!r.duration||r.duration<=0)&&(r.duration=s[s.length-1].duration),s.byteLength+=r.byteLength,s.nalCount+=r.length,s.duration+=r.duration,s.push(r),s},Nu=function(e){var t,n,r=[],s=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,s.byteLength=0,s.nalCount=0,s.duration=0,s.pts=e[0].pts,s.dts=e[0].dts,t=0;t<e.length;t++)n=e[t],n.keyFrame?(r.length&&(s.push(r),s.byteLength+=r.byteLength,s.nalCount+=r.nalCount,s.duration+=r.duration),r=[n],r.nalCount=n.length,r.byteLength=n.byteLength,r.pts=n.pts,r.dts=n.dts,r.duration=n.duration):(r.duration+=n.duration,r.nalCount+=n.length,r.byteLength+=n.byteLength,r.push(n));return s.length&&r.duration<=0&&(r.duration=s[s.length-1].duration),s.byteLength+=r.byteLength,s.nalCount+=r.nalCount,s.duration+=r.duration,s.push(r),s},Bu=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},$u=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},qo=function(e,t){var n=$u();return n.dataOffset=t,n.compositionTimeOffset=e.pts-e.dts,n.duration=e.duration,n.size=4*e.length,n.size+=e.byteLength,e.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},Vu=function(e,t){var n,r,s,a,o,l=t||0,u=[];for(n=0;n<e.length;n++)for(a=e[n],r=0;r<a.length;r++)o=a[r],s=qo(o,l),l+=s.size,u.push(s);return u},ku=function(e){var t,n,r,s,a,o,l=0,u=e.byteLength,f=e.nalCount,c=u+4*f,d=new Uint8Array(c),m=new DataView(d.buffer);for(t=0;t<e.length;t++)for(s=e[t],n=0;n<s.length;n++)for(a=s[n],r=0;r<a.length;r++)o=a[r],m.setUint32(l,o.data.byteLength),l+=4,d.set(o.data,l),l+=o.data.byteLength;return d},Hu=function(e,t){var n,r=t||0,s=[];return n=qo(e,r),s.push(n),s},Gu=function(e){var t,n,r=0,s=e.byteLength,a=e.length,o=s+4*a,l=new Uint8Array(o),u=new DataView(l.buffer);for(t=0;t<e.length;t++)n=e[t],u.setUint32(r,n.data.byteLength),r+=4,l.set(n.data,r),r+=n.data.byteLength;return l},Yo={groupNalsIntoFrames:Ru,groupFramesIntoGops:Nu,extendFirstKeyFrame:Bu,generateSampleTable:Vu,concatenateNalData:ku,generateSampleTableForFrame:Hu,concatenateNalDataForFrame:Gu},tt=[33,16,5,32,164,27],kn=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],K=function(e){for(var t=[];e--;)t.push(0);return t},Wu=function(e){return Object.keys(e).reduce(function(t,n){return t[n]=new Uint8Array(e[n].reduce(function(r,s){return r.concat(s)},[])),t},{})},Hn,zu=function(){if(!Hn){var i={96e3:[tt,[227,64],K(154),[56]],88200:[tt,[231],K(170),[56]],64e3:[tt,[248,192],K(240),[56]],48e3:[tt,[255,192],K(268),[55,148,128],K(54),[112]],44100:[tt,[255,192],K(268),[55,163,128],K(84),[112]],32e3:[tt,[255,192],K(268),[55,234],K(226),[112]],24e3:[tt,[255,192],K(268),[55,255,128],K(268),[111,112],K(126),[224]],16e3:[tt,[255,192],K(268),[55,255,128],K(268),[111,255],K(269),[223,108],K(195),[1,192]],12e3:[kn,K(268),[3,127,248],K(268),[6,255,240],K(268),[13,255,224],K(268),[27,253,128],K(259),[56]],11025:[kn,K(268),[3,127,248],K(268),[6,255,240],K(268),[13,255,224],K(268),[27,255,192],K(268),[55,175,128],K(108),[112]],8e3:[kn,K(268),[3,121,16],K(47),[7]]};Hn=Wu(i)}return Hn},ju=zu,Pi=ft,Ku=function(e){var t,n,r=0;for(t=0;t<e.length;t++)n=e[t],r+=n.data.byteLength;return r},qu=function(e,t,n,r){var s,a=0,o=0,l=0,u=0,f,c,d;if(t.length&&(s=Pi.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),a=Math.ceil(Pi.ONE_SECOND_IN_TS/(e.samplerate/1024)),n&&r&&(o=s-Math.max(n,r),l=Math.floor(o/a),u=l*a),!(l<1||u>Pi.ONE_SECOND_IN_TS/2))){for(f=ju()[e.samplerate],f||(f=t[0].data),c=0;c<l;c++)d=t[0],t.splice(0,0,{data:f,dts:d.dts-a,pts:d.pts-a});return e.baseMediaDecodeTime-=Math.floor(Pi.videoTsToAudioTs(u,e.samplerate)),u}},Yu=function(e,t,n){return t.minSegmentDts>=n?e:(t.minSegmentDts=1/0,e.filter(function(r){return r.dts>=n?(t.minSegmentDts=Math.min(t.minSegmentDts,r.dts),t.minSegmentPts=t.minSegmentDts,!0):!1}))},Xu=function(e){var t,n,r=[];for(t=0;t<e.length;t++)n=e[t],r.push({size:n.data.byteLength,duration:1024});return r},Ju=function(e){var t,n,r=0,s=new Uint8Array(Ku(e));for(t=0;t<e.length;t++)n=e[t],s.set(n.data,r),r+=n.data.byteLength;return s},Xo={prefixWithSilence:qu,trimAdtsFramesByEarliestDts:Yu,generateSampleTable:Xu,concatenateFrameData:Ju},Zu=ft.ONE_SECOND_IN_TS,Qu=function(e,t){typeof t.pts=="number"&&(e.timelineStartInfo.pts===void 0&&(e.timelineStartInfo.pts=t.pts),e.minSegmentPts===void 0?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),e.maxSegmentPts===void 0?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),typeof t.dts=="number"&&(e.timelineStartInfo.dts===void 0&&(e.timelineStartInfo.dts=t.dts),e.minSegmentDts===void 0?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.maxSegmentDts===void 0?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},ec=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},tc=function(e,t){var n,r,s=e.minSegmentDts;return t||(s-=e.timelineStartInfo.dts),n=e.timelineStartInfo.baseMediaDecodeTime,n+=s,n=Math.max(0,n),e.type==="audio"&&(r=e.samplerate/Zu,n*=r,n=Math.floor(n)),n},xn={clearDtsInfo:ec,calculateTrackBaseMediaDecodeTime:tc,collectDtsInfo:Qu},Jo=4,ic=128,nc=function(e){for(var t=0,n={payloadType:-1,payloadSize:0},r=0,s=0;t<e.byteLength&&e[t]!==ic;){for(;e[t]===255;)r+=255,t++;for(r+=e[t++];e[t]===255;)s+=255,t++;if(s+=e[t++],!n.payload&&r===Jo){var a=String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6]);if(a==="GA94"){n.payloadType=r,n.payloadSize=s,n.payload=e.subarray(t,t+s);break}else n.payload=void 0}t+=s,r=0,s=0}return n},rc=function(e){return e.payload[0]!==181||(e.payload[1]<<8|e.payload[2])!==49||String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])!=="GA94"||e.payload[7]!==3?null:e.payload.subarray(8,e.payload.length-1)},sc=function(e,t){var n=[],r,s,a,o;if(!(t[0]&64))return n;for(s=t[0]&31,r=0;r<s;r++)a=r*3,o={type:t[a+2]&3,pts:e},t[a+2]&4&&(o.ccData=t[a+3]<<8|t[a+4],n.push(o));return n},ac=function(e){for(var t=e.byteLength,n=[],r=1,s,a;r<t-2;)e[r]===0&&e[r+1]===0&&e[r+2]===3?(n.push(r+2),r+=2):r++;if(n.length===0)return e;s=t-n.length,a=new Uint8Array(s);var o=0;for(r=0;r<s;o++,r++)o===n[0]&&(o++,n.shift()),a[r]=e[o];return a},Zo={parseSei:nc,parseUserData:rc,parseCaptionPackets:sc,discardEmulationPreventionBytes:ac,USER_DATA_REGISTERED_ITU_T_T35:Jo},Xr=we,Di=Zo,Fe=function i(e){e=e||{},i.prototype.init.call(this),this.parse708captions_=typeof e.parse708captions=="boolean"?e.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new ne(0,0),new ne(0,1),new ne(1,0),new ne(1,1)],this.parse708captions_&&(this.cc708Stream_=new ee({captionServices:e.captionServices})),this.reset(),this.ccStreams_.forEach(function(t){t.on("data",this.trigger.bind(this,"data")),t.on("partialdone",this.trigger.bind(this,"partialdone")),t.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Fe.prototype=new Xr;Fe.prototype.push=function(i){var e,t,n;if(i.nalUnitType==="sei_rbsp"&&(e=Di.parseSei(i.escapedRBSP),!!e.payload&&e.payloadType===Di.USER_DATA_REGISTERED_ITU_T_T35&&(t=Di.parseUserData(e),!!t))){if(i.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(i.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}n=Di.parseCaptionPackets(i.pts,t),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==i.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=i.dts}};Fe.prototype.flushCCStreams=function(i){this.ccStreams_.forEach(function(e){return i==="flush"?e.flush():e.partialFlush()},this)};Fe.prototype.flushStream=function(i){if(!this.captionPackets_.length){this.flushCCStreams(i);return}this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2?this.dispatchCea608Packet(e):this.dispatchCea708Packet(e)},this),this.captionPackets_.length=0,this.flushCCStreams(i)};Fe.prototype.flush=function(){return this.flushStream("flush")};Fe.prototype.partialFlush=function(){return this.flushStream("partialFlush")};Fe.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(i){i.reset()})};Fe.prototype.dispatchCea608Packet=function(i){this.setsTextOrXDSActive(i)?this.activeCea608Channel_[i.type]=null:this.setsChannel1Active(i)?this.activeCea608Channel_[i.type]=0:this.setsChannel2Active(i)&&(this.activeCea608Channel_[i.type]=1),this.activeCea608Channel_[i.type]!==null&&this.ccStreams_[(i.type<<1)+this.activeCea608Channel_[i.type]].push(i)};Fe.prototype.setsChannel1Active=function(i){return(i.ccData&30720)===4096};Fe.prototype.setsChannel2Active=function(i){return(i.ccData&30720)===6144};Fe.prototype.setsTextOrXDSActive=function(i){return(i.ccData&28928)===256||(i.ccData&30974)===4138||(i.ccData&30974)===6186};Fe.prototype.dispatchCea708Packet=function(i){this.parse708captions_&&this.cc708Stream_.push(i)};var oc={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},lc=function(e){var t=oc[e]||e;return e&4096&&e===t?"":String.fromCharCode(t)},Yi=function(e){return 32<=e&&e<=127||160<=e&&e<=255},Qe=function(e){this.windowNum=e,this.reset()};Qe.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0};Qe.prototype.getText=function(){return this.rows.join(`
`)};Qe.prototype.clearText=function(){this.rows=[""],this.rowIdx=0};Qe.prototype.newLine=function(i){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(i),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--};Qe.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1};Qe.prototype.addText=function(i){this.rows[this.rowIdx]+=i};Qe.prototype.backspace=function(){if(!this.isEmpty()){var i=this.rows[this.rowIdx];this.rows[this.rowIdx]=i.substr(0,i.length-1)}};var yn=function(e,t,n){this.serviceNum=e,this.text="",this.currentWindow=new Qe(-1),this.windows=[],this.stream=n,typeof t=="string"&&this.createTextDecoder(t)};yn.prototype.init=function(i,e){this.startPts=i;for(var t=0;t<8;t++)this.windows[t]=new Qe(t),typeof e=="function"&&(this.windows[t].beforeRowOverflow=e)};yn.prototype.setCurrentWindow=function(i){this.currentWindow=this.windows[i]};yn.prototype.createTextDecoder=function(i){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(i)}catch(e){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+i+" encoding. "+e})}};var ee=function i(e){e=e||{},i.prototype.init.call(this);var t=this,n=e.captionServices||{},r={},s;Object.keys(n).forEach(function(a){s=n[a],/^SERVICE/.test(a)&&(r[a]=s.encoding)}),this.serviceEncodings=r,this.current708Packet=null,this.services={},this.push=function(a){a.type===3?(t.new708Packet(),t.add708Bytes(a)):(t.current708Packet===null&&t.new708Packet(),t.add708Bytes(a))}};ee.prototype=new Xr;ee.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}};ee.prototype.add708Bytes=function(i){var e=i.ccData,t=e>>>8,n=e&255;this.current708Packet.ptsVals.push(i.pts),this.current708Packet.data.push(t),this.current708Packet.data.push(n)};ee.prototype.push708Packet=function(){var i=this.current708Packet,e=i.data,t=null,n=null,r=0,s=e[r++];for(i.seq=s>>6,i.sizeCode=s&63;r<e.length;r++)s=e[r++],t=s>>5,n=s&31,t===7&&n>0&&(s=e[r++],t=s),this.pushServiceBlock(t,r,n),n>0&&(r+=n-1)};ee.prototype.pushServiceBlock=function(i,e,t){var n,r=e,s=this.current708Packet.data,a=this.services[i];for(a||(a=this.initService(i,r));r<e+t&&r<s.length;r++)n=s[r],Yi(n)?r=this.handleText(r,a):n===24?r=this.multiByteCharacter(r,a):n===16?r=this.extendedCommands(r,a):128<=n&&n<=135?r=this.setCurrentWindow(r,a):152<=n&&n<=159?r=this.defineWindow(r,a):n===136?r=this.clearWindows(r,a):n===140?r=this.deleteWindows(r,a):n===137?r=this.displayWindows(r,a):n===138?r=this.hideWindows(r,a):n===139?r=this.toggleWindows(r,a):n===151?r=this.setWindowAttributes(r,a):n===144?r=this.setPenAttributes(r,a):n===145?r=this.setPenColor(r,a):n===146?r=this.setPenLocation(r,a):n===143?a=this.reset(r,a):n===8?a.currentWindow.backspace():n===12?a.currentWindow.clearText():n===13?a.currentWindow.pendingNewLine=!0:n===14?a.currentWindow.clearText():n===141&&r++};ee.prototype.extendedCommands=function(i,e){var t=this.current708Packet.data,n=t[++i];return Yi(n)&&(i=this.handleText(i,e,{isExtended:!0})),i};ee.prototype.getPts=function(i){return this.current708Packet.ptsVals[Math.floor(i/2)]};ee.prototype.initService=function(i,e){var n="SERVICE"+i,t=this,n,r;return n in this.serviceEncodings&&(r=this.serviceEncodings[n]),this.services[i]=new yn(i,r,t),this.services[i].init(this.getPts(e),function(s){t.flushDisplayed(s,t.services[i])}),this.services[i]};ee.prototype.handleText=function(i,e,t){var n=t&&t.isExtended,r=t&&t.isMultiByte,s=this.current708Packet.data,a=n?4096:0,o=s[i],l=s[i+1],u=e.currentWindow,f,c;return e.textDecoder_&&!n?(r?(c=[o,l],i++):c=[o],f=e.textDecoder_.decode(new Uint8Array(c))):f=lc(a|o),u.pendingNewLine&&!u.isEmpty()&&u.newLine(this.getPts(i)),u.pendingNewLine=!1,u.addText(f),i};ee.prototype.multiByteCharacter=function(i,e){var t=this.current708Packet.data,n=t[i+1],r=t[i+2];return Yi(n)&&Yi(r)&&(i=this.handleText(++i,e,{isMultiByte:!0})),i};ee.prototype.setCurrentWindow=function(i,e){var t=this.current708Packet.data,n=t[i],r=n&7;return e.setCurrentWindow(r),i};ee.prototype.defineWindow=function(i,e){var t=this.current708Packet.data,n=t[i],r=n&7;e.setCurrentWindow(r);var s=e.currentWindow;return n=t[++i],s.visible=(n&32)>>5,s.rowLock=(n&16)>>4,s.columnLock=(n&8)>>3,s.priority=n&7,n=t[++i],s.relativePositioning=(n&128)>>7,s.anchorVertical=n&127,n=t[++i],s.anchorHorizontal=n,n=t[++i],s.anchorPoint=(n&240)>>4,s.rowCount=n&15,n=t[++i],s.columnCount=n&63,n=t[++i],s.windowStyle=(n&56)>>3,s.penStyle=n&7,s.virtualRowCount=s.rowCount+1,i};ee.prototype.setWindowAttributes=function(i,e){var t=this.current708Packet.data,n=t[i],r=e.currentWindow.winAttr;return n=t[++i],r.fillOpacity=(n&192)>>6,r.fillRed=(n&48)>>4,r.fillGreen=(n&12)>>2,r.fillBlue=n&3,n=t[++i],r.borderType=(n&192)>>6,r.borderRed=(n&48)>>4,r.borderGreen=(n&12)>>2,r.borderBlue=n&3,n=t[++i],r.borderType+=(n&128)>>5,r.wordWrap=(n&64)>>6,r.printDirection=(n&48)>>4,r.scrollDirection=(n&12)>>2,r.justify=n&3,n=t[++i],r.effectSpeed=(n&240)>>4,r.effectDirection=(n&12)>>2,r.displayEffect=n&3,i};ee.prototype.flushDisplayed=function(i,e){for(var t=[],n=0;n<8;n++)e.windows[n].visible&&!e.windows[n].isEmpty()&&t.push(e.windows[n].getText());e.endPts=i,e.text=t.join(`

`),this.pushCaption(e),e.startPts=i};ee.prototype.pushCaption=function(i){i.text!==""&&(this.trigger("data",{startPts:i.startPts,endPts:i.endPts,text:i.text,stream:"cc708_"+i.serviceNum}),i.text="",i.startPts=i.endPts)};ee.prototype.displayWindows=function(i,e){var t=this.current708Packet.data,n=t[++i],r=this.getPts(i);this.flushDisplayed(r,e);for(var s=0;s<8;s++)n&1<<s&&(e.windows[s].visible=1);return i};ee.prototype.hideWindows=function(i,e){var t=this.current708Packet.data,n=t[++i],r=this.getPts(i);this.flushDisplayed(r,e);for(var s=0;s<8;s++)n&1<<s&&(e.windows[s].visible=0);return i};ee.prototype.toggleWindows=function(i,e){var t=this.current708Packet.data,n=t[++i],r=this.getPts(i);this.flushDisplayed(r,e);for(var s=0;s<8;s++)n&1<<s&&(e.windows[s].visible^=1);return i};ee.prototype.clearWindows=function(i,e){var t=this.current708Packet.data,n=t[++i],r=this.getPts(i);this.flushDisplayed(r,e);for(var s=0;s<8;s++)n&1<<s&&e.windows[s].clearText();return i};ee.prototype.deleteWindows=function(i,e){var t=this.current708Packet.data,n=t[++i],r=this.getPts(i);this.flushDisplayed(r,e);for(var s=0;s<8;s++)n&1<<s&&e.windows[s].reset();return i};ee.prototype.setPenAttributes=function(i,e){var t=this.current708Packet.data,n=t[i],r=e.currentWindow.penAttr;return n=t[++i],r.textTag=(n&240)>>4,r.offset=(n&12)>>2,r.penSize=n&3,n=t[++i],r.italics=(n&128)>>7,r.underline=(n&64)>>6,r.edgeType=(n&56)>>3,r.fontStyle=n&7,i};ee.prototype.setPenColor=function(i,e){var t=this.current708Packet.data,n=t[i],r=e.currentWindow.penColor;return n=t[++i],r.fgOpacity=(n&192)>>6,r.fgRed=(n&48)>>4,r.fgGreen=(n&12)>>2,r.fgBlue=n&3,n=t[++i],r.bgOpacity=(n&192)>>6,r.bgRed=(n&48)>>4,r.bgGreen=(n&12)>>2,r.bgBlue=n&3,n=t[++i],r.edgeRed=(n&48)>>4,r.edgeGreen=(n&12)>>2,r.edgeBlue=n&3,i};ee.prototype.setPenLocation=function(i,e){var t=this.current708Packet.data,n=t[i],r=e.currentWindow.penLoc;return e.currentWindow.pendingNewLine=!0,n=t[++i],r.row=n&15,n=t[++i],r.column=n&63,i};ee.prototype.reset=function(i,e){var t=this.getPts(i);return this.flushDisplayed(t,e),this.initService(e.serviceNum,i)};var fc={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Ei=function(e){return e===null?"":(e=fc[e]||e,String.fromCharCode(e))},vn=14,uc=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],vt=function(){for(var e=[],t=vn+1;t--;)e.push("");return e},ne=function i(e,t){i.prototype.init.call(this),this.field_=e||0,this.dataChannel_=t||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(n){var r,s,a,o,l;if(r=n.ccData&32639,r===this.lastControlCode_){this.lastControlCode_=null;return}if((r&61440)===4096?this.lastControlCode_=r:r!==this.PADDING_&&(this.lastControlCode_=null),a=r>>>8,o=r&255,r!==this.PADDING_)if(r===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(r===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(n.pts),this.flushDisplayed(n.pts),s=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=s,this.startPts_=n.pts;else if(r===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(n.pts);else if(r===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(n.pts);else if(r===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(n.pts);else if(r===this.CARRIAGE_RETURN_)this.clearFormatting(n.pts),this.flushDisplayed(n.pts),this.shiftRowsUp_(),this.startPts_=n.pts;else if(r===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(r===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(n.pts),this.displayed_=vt();else if(r===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=vt();else if(r===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(n.pts),this.displayed_=vt()),this.mode_="paintOn",this.startPts_=n.pts;else if(this.isSpecialCharacter(a,o))a=(a&3)<<8,l=Ei(a|o),this[this.mode_](n.pts,l),this.column_++;else if(this.isExtCharacter(a,o))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),a=(a&3)<<8,l=Ei(a|o),this[this.mode_](n.pts,l),this.column_++;else if(this.isMidRowCode(a,o))this.clearFormatting(n.pts),this[this.mode_](n.pts," "),this.column_++,(o&14)===14&&this.addFormatting(n.pts,["i"]),(o&1)===1&&this.addFormatting(n.pts,["u"]);else if(this.isOffsetControlCode(a,o))this.column_+=o&3;else if(this.isPAC(a,o)){var u=uc.indexOf(r&7968);this.mode_==="rollUp"&&(u-this.rollUpRows_+1<0&&(u=this.rollUpRows_-1),this.setRollUp(n.pts,u)),u!==this.row_&&(this.clearFormatting(n.pts),this.row_=u),o&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(n.pts,["u"]),(r&16)===16&&(this.column_=((r&14)>>1)*4),this.isColorPAC(o)&&(o&14)===14&&this.addFormatting(n.pts,["i"])}else this.isNormalChar(a)&&(o===0&&(o=null),l=Ei(a),l+=Ei(o),this[this.mode_](n.pts,l),this.column_+=l.length)}};ne.prototype=new Xr;ne.prototype.flushDisplayed=function(i){var e=this.displayed_.map(function(t,n){try{return t.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+n+"."}),""}},this).join(`
`).replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:i,text:e,stream:this.name_})};ne.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=vt(),this.nonDisplayed_=vt(),this.lastControlCode_=null,this.column_=0,this.row_=vn,this.rollUpRows_=2,this.formatting_=[]};ne.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46};ne.prototype.isSpecialCharacter=function(i,e){return i===this.EXT_&&e>=48&&e<=63};ne.prototype.isExtCharacter=function(i,e){return(i===this.EXT_+1||i===this.EXT_+2)&&e>=32&&e<=63};ne.prototype.isMidRowCode=function(i,e){return i===this.EXT_&&e>=32&&e<=47};ne.prototype.isOffsetControlCode=function(i,e){return i===this.OFFSET_&&e>=33&&e<=35};ne.prototype.isPAC=function(i,e){return i>=this.BASE_&&i<this.BASE_+8&&e>=64&&e<=127};ne.prototype.isColorPAC=function(i){return i>=64&&i<=79||i>=96&&i<=127};ne.prototype.isNormalChar=function(i){return i>=32&&i<=127};ne.prototype.setRollUp=function(i,e){if(this.mode_!=="rollUp"&&(this.row_=vn,this.mode_="rollUp",this.flushDisplayed(i),this.nonDisplayed_=vt(),this.displayed_=vt()),e!==void 0&&e!==this.row_)for(var t=0;t<this.rollUpRows_;t++)this.displayed_[e-t]=this.displayed_[this.row_-t],this.displayed_[this.row_-t]="";e===void 0&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1};ne.prototype.addFormatting=function(i,e){this.formatting_=this.formatting_.concat(e);var t=e.reduce(function(n,r){return n+"<"+r+">"},"");this[this.mode_](i,t)};ne.prototype.clearFormatting=function(i){if(this.formatting_.length){var e=this.formatting_.reverse().reduce(function(t,n){return t+"</"+n+">"},"");this.formatting_=[],this[this.mode_](i,e)}};ne.prototype.popOn=function(i,e){var t=this.nonDisplayed_[this.row_];t+=e,this.nonDisplayed_[this.row_]=t};ne.prototype.rollUp=function(i,e){var t=this.displayed_[this.row_];t+=e,this.displayed_[this.row_]=t};ne.prototype.shiftRowsUp_=function(){var i;for(i=0;i<this.topRow_;i++)this.displayed_[i]="";for(i=this.row_+1;i<vn+1;i++)this.displayed_[i]="";for(i=this.topRow_;i<this.row_;i++)this.displayed_[i]=this.displayed_[i+1];this.displayed_[this.row_]=""};ne.prototype.paintOn=function(i,e){var t=this.displayed_[this.row_];t+=e,this.displayed_[this.row_]=t};var Qo={CaptionStream:Fe,Cea608Stream:ne,Cea708Stream:ee},Sn={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},cc=we,dc=8589934592,hc=4294967296,Gs="shared",pr=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>hc;)e+=n*dc;return e},el=function i(e){var t,n;i.prototype.init.call(this),this.type_=e||Gs,this.push=function(r){this.type_!==Gs&&r.type!==this.type_||(n===void 0&&(n=r.dts),r.dts=pr(r.dts,n),r.pts=pr(r.pts,n),t=r.dts,this.trigger("data",r))},this.flush=function(){n=t,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){n=void 0,t=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};el.prototype=new cc;var tl={TimestampRolloverStream:el,handleRollover:pr},pc=we,mc=Sn,it=ko,Xi;Xi=function(e){var t={descriptor:e&&e.descriptor},n=0,r=[],s=0,a;if(Xi.prototype.init.call(this),this.dispatchType=mc.METADATA_STREAM_TYPE.toString(16),t.descriptor)for(a=0;a<t.descriptor.length;a++)this.dispatchType+=("00"+t.descriptor[a].toString(16)).slice(-2);this.push=function(o){var l,u,f,c,d,m;if(o.type==="timed-metadata"){if(o.dataAlignmentIndicator&&(s=0,r.length=0),r.length===0&&(o.data.length<10||o.data[0]!==73||o.data[1]!==68||o.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(r.push(o),s+=o.data.byteLength,r.length===1&&(n=it.parseSyncSafeInteger(o.data.subarray(6,10)),n+=10),!(s<n)){for(l={data:new Uint8Array(n),frames:[],pts:r[0].pts,dts:r[0].dts},d=0;d<n;)l.data.set(r[0].data.subarray(0,n-d),d),d+=r[0].data.byteLength,s-=r[0].data.byteLength,r.shift();u=10,l.data[5]&64&&(u+=4,u+=it.parseSyncSafeInteger(l.data.subarray(10,14)),n-=it.parseSyncSafeInteger(l.data.subarray(16,20)));do{if(f=it.parseSyncSafeInteger(l.data.subarray(u+4,u+8)),f<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(m=String.fromCharCode(l.data[u],l.data[u+1],l.data[u+2],l.data[u+3]),c={id:m,data:l.data.subarray(u+10,u+f+10)},c.key=c.id,it.frameParsers[c.id]?it.frameParsers[c.id](c):c.id[0]==="T"?it.frameParsers["T*"](c):c.id[0]==="W"&&it.frameParsers["W*"](c),c.owner==="com.apple.streaming.transportStreamTimestamp"){var g=c.data,x=(g[3]&1)<<30|g[4]<<22|g[5]<<14|g[6]<<6|g[7]>>>2;x*=4,x+=g[7]&3,c.timeStamp=x,l.pts===void 0&&l.dts===void 0&&(l.pts=c.timeStamp,l.dts=c.timeStamp),this.trigger("timestamp",c)}l.frames.push(c),u+=10,u+=f}while(u<n);this.trigger("data",l)}}}};Xi.prototype=new pc;var gc=Xi,Jr=we,Gn=Qo,De=Sn,xc=tl.TimestampRolloverStream,Ji,pi,Zi,At=188,Wn=71;Ji=function(){var e=new Uint8Array(At),t=0;Ji.prototype.init.call(this),this.push=function(n){var r=0,s=At,a;for(t?(a=new Uint8Array(n.byteLength+t),a.set(e.subarray(0,t)),a.set(n,t),t=0):a=n;s<a.byteLength;){if(a[r]===Wn&&a[s]===Wn){this.trigger("data",a.subarray(r,s)),r+=At,s+=At;continue}r++,s++}r<a.byteLength&&(e.set(a.subarray(r),0),t=a.byteLength-r)},this.flush=function(){t===At&&e[0]===Wn&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}};Ji.prototype=new Jr;pi=function(){var e,t,n,r;pi.prototype.init.call(this),r=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(a,o){var l=0;o.payloadUnitStartIndicator&&(l+=a[l]+1),o.type==="pat"?t(a.subarray(l),o):n(a.subarray(l),o)},t=function(a,o){o.section_number=a[7],o.last_section_number=a[8],r.pmtPid=(a[10]&31)<<8|a[11],o.pmtPid=r.pmtPid},n=function(a,o){var l,u,f,c;if(a[5]&1){for(r.programMapTable={video:null,audio:null,"timed-metadata":{}},l=(a[1]&15)<<8|a[2],u=3+l-4,f=(a[10]&15)<<8|a[11],c=12+f;c<u;){var d=a[c],m=(a[c+1]&31)<<8|a[c+2];d===De.H264_STREAM_TYPE&&r.programMapTable.video===null?r.programMapTable.video=m:d===De.ADTS_STREAM_TYPE&&r.programMapTable.audio===null?r.programMapTable.audio=m:d===De.METADATA_STREAM_TYPE&&(r.programMapTable["timed-metadata"][m]=d),c+=((a[c+3]&15)<<8|a[c+4])+5}o.programMapTable=r.programMapTable}},this.push=function(s){var a={},o=4;if(a.payloadUnitStartIndicator=!!(s[1]&64),a.pid=s[1]&31,a.pid<<=8,a.pid|=s[2],(s[3]&48)>>>4>1&&(o+=s[o]+1),a.pid===0)a.type="pat",e(s.subarray(o),a),this.trigger("data",a);else if(a.pid===this.pmtPid)for(a.type="pmt",e(s.subarray(o),a),this.trigger("data",a);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([s,o,a]):this.processPes_(s,o,a)},this.processPes_=function(s,a,o){o.pid===this.programMapTable.video?o.streamType=De.H264_STREAM_TYPE:o.pid===this.programMapTable.audio?o.streamType=De.ADTS_STREAM_TYPE:o.streamType=this.programMapTable["timed-metadata"][o.pid],o.type="pes",o.data=s.subarray(a),this.trigger("data",o)}};pi.prototype=new Jr;pi.STREAM_TYPES={h264:27,adts:15};Zi=function(){var e=this,t=!1,n={data:[],size:0},r={data:[],size:0},s={data:[],size:0},a,o=function(f,c){var d,m=f[0]<<16|f[1]<<8|f[2];c.data=new Uint8Array,m===1&&(c.packetLength=6+(f[4]<<8|f[5]),c.dataAlignmentIndicator=(f[6]&4)!==0,d=f[7],d&192&&(c.pts=(f[9]&14)<<27|(f[10]&255)<<20|(f[11]&254)<<12|(f[12]&255)<<5|(f[13]&254)>>>3,c.pts*=4,c.pts+=(f[13]&6)>>>1,c.dts=c.pts,d&64&&(c.dts=(f[14]&14)<<27|(f[15]&255)<<20|(f[16]&254)<<12|(f[17]&255)<<5|(f[18]&254)>>>3,c.dts*=4,c.dts+=(f[18]&6)>>>1)),c.data=f.subarray(9+f[8]))},l=function(f,c,d){var m=new Uint8Array(f.size),g={type:c},x=0,F=0,P=!1,E;if(!(!f.data.length||f.size<9)){for(g.trackId=f.data[0].pid,x=0;x<f.data.length;x++)E=f.data[x],m.set(E.data,F),F+=E.data.byteLength;o(m,g),P=c==="video"||g.packetLength<=f.size,(d||P)&&(f.size=0,f.data.length=0),P&&e.trigger("data",g)}};Zi.prototype.init.call(this),this.push=function(u){({pat:function(){},pes:function(){var c,d;switch(u.streamType){case De.H264_STREAM_TYPE:c=n,d="video";break;case De.ADTS_STREAM_TYPE:c=r,d="audio";break;case De.METADATA_STREAM_TYPE:c=s,d="timed-metadata";break;default:return}u.payloadUnitStartIndicator&&l(c,d,!0),c.data.push(u),c.size+=u.data.byteLength},pmt:function(){var c={type:"metadata",tracks:[]};a=u.programMapTable,a.video!==null&&c.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+a.video,codec:"avc",type:"video"}),a.audio!==null&&c.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+a.audio,codec:"adts",type:"audio"}),t=!0,e.trigger("data",c)}})[u.type]()},this.reset=function(){n.size=0,n.data.length=0,r.size=0,r.data.length=0,this.trigger("reset")},this.flushStreams_=function(){l(n,"video"),l(r,"audio"),l(s,"timed-metadata")},this.flush=function(){if(!t&&a){var u={type:"metadata",tracks:[]};a.video!==null&&u.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+a.video,codec:"avc",type:"video"}),a.audio!==null&&u.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+a.audio,codec:"adts",type:"audio"}),e.trigger("data",u)}t=!1,this.flushStreams_(),this.trigger("done")}};Zi.prototype=new Jr;var il={PAT_PID:0,MP2T_PACKET_LENGTH:At,TransportPacketStream:Ji,TransportParseStream:pi,ElementaryStream:Zi,TimestampRolloverStream:xc,CaptionStream:Gn.CaptionStream,Cea608Stream:Gn.Cea608Stream,Cea708Stream:Gn.Cea708Stream,MetadataStream:gc};for(var zn in De)De.hasOwnProperty(zn)&&(il[zn]=De[zn]);var bn=il,yc=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],nl=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9],r=e[t+5],s=(r&16)>>4;return n=n>=0?n:0,s?n+20:n+10},vc=function i(e,t){return e.length-t<10||e[t]!==73||e[t+1]!==68||e[t+2]!==51?t:(t+=nl(e,t),i(e,t))},Sc=function(e){var t=vc(e,0);return e.length>=t+2&&(e[t]&255)===255&&(e[t+1]&240)===240&&(e[t+1]&22)===16},Ws=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},bc=function(e,t,n){var r,s="";for(r=t;r<n;r++)s+="%"+("00"+e[r].toString(16)).slice(-2);return s},Tc=function(e,t,n){return unescape(bc(e,t,n))},_c=function(e,t){var n=(e[t+5]&224)>>5,r=e[t+4]<<3,s=e[t+3]&6144;return s|r|n},wc=function(e,t){return e[t]===73&&e[t+1]===68&&e[t+2]===51?"timed-metadata":e[t]&!0&&(e[t+1]&240)===240?"audio":null},Fc=function(e){for(var t=0;t+5<e.length;){if(e[t]!==255||(e[t+1]&246)!==240){t++;continue}return yc[(e[t+2]&60)>>>2]}return null},Ac=function(e){var t,n,r,s;t=10,e[5]&64&&(t+=4,t+=Ws(e.subarray(10,14)));do{if(n=Ws(e.subarray(t+4,t+8)),n<1)return null;if(s=String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3]),s==="PRIV"){r=e.subarray(t+10,t+n+10);for(var a=0;a<r.byteLength;a++)if(r[a]===0){var o=Tc(r,0,a);if(o==="com.apple.streaming.transportStreamTimestamp"){var l=r.subarray(a+1),u=(l[3]&1)<<30|l[4]<<22|l[5]<<14|l[6]<<6|l[7]>>>2;return u*=4,u+=l[7]&3,u}break}}t+=10,t+=n}while(t<e.byteLength);return null},Tn={isLikelyAacData:Sc,parseId3TagSize:nl,parseAdtsSize:_c,parseType:wc,parseSampleRate:Fc,parseAacTimestamp:Ac},Cc=we,zs=Tn,Qi;Qi=function(){var e=new Uint8Array,t=0;Qi.prototype.init.call(this),this.setTimestamp=function(n){t=n},this.push=function(n){var r=0,s=0,a,o,l,u;for(e.length?(u=e.length,e=new Uint8Array(n.byteLength+u),e.set(e.subarray(0,u)),e.set(n,u)):e=n;e.length-s>=3;){if(e[s]===73&&e[s+1]===68&&e[s+2]===51){if(e.length-s<10||(r=zs.parseId3TagSize(e,s),s+r>e.length))break;o={type:"timed-metadata",data:e.subarray(s,s+r)},this.trigger("data",o),s+=r;continue}else if((e[s]&255)===255&&(e[s+1]&240)===240){if(e.length-s<7||(r=zs.parseAdtsSize(e,s),s+r>e.length))break;l={type:"audio",data:e.subarray(s,s+r),pts:t,dts:t},this.trigger("data",l),s+=r;continue}s++}a=e.length-s,a>0?e=e.subarray(s):e=new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){e=new Uint8Array,this.trigger("endedtimeline")}};Qi.prototype=new Cc;var rl=Qi,Pc=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],sl=Pc,Dc=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],al=Dc,_n=we,mi=mn,zt=Yo,Ui=Xo,Ee=xn,ze=bn,$i=ft,js=pn,Ec=Gr.H264Stream,Uc=rl,Ic=Tn.isLikelyAacData,Oc=ft.ONE_SECOND_IN_TS,ol=sl,ll=al,gi,Mt,en,St,Mc=function(e,t){t.stream=e,this.trigger("log",t)},Ks=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;r++){var s=n[r];s==="headOfPipeline"||!t[s].on||t[s].on("log",Mc.bind(e,s))}},qs=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},fl=function(e,t,n,r,s,a){var o=n-t,l=r-t,u=s-n;return{start:{dts:e,pts:e+o},end:{dts:e+l,pts:e+u},prependedContentDuration:a,baseMediaDecodeTime:e}};Mt=function(e,t){var n=[],r,s=0,a=0,o=1/0;t=t||{},r=t.firstSequenceNumber||0,Mt.prototype.init.call(this),this.push=function(l){Ee.collectDtsInfo(e,l),e&&ol.forEach(function(u){e[u]=l[u]}),n.push(l)},this.setEarliestDts=function(l){s=l},this.setVideoBaseMediaDecodeTime=function(l){o=l},this.setAudioAppendStart=function(l){a=l},this.flush=function(){var l,u,f,c,d,m,g;if(n.length===0){this.trigger("done","AudioSegmentStream");return}l=Ui.trimAdtsFramesByEarliestDts(n,e,s),e.baseMediaDecodeTime=Ee.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),g=Ui.prefixWithSilence(e,l,a,o),e.samples=Ui.generateSampleTable(l),f=mi.mdat(Ui.concatenateFrameData(l)),n=[],u=mi.moof(r,[e]),c=new Uint8Array(u.byteLength+f.byteLength),r++,c.set(u),c.set(f,u.byteLength),Ee.clearDtsInfo(e),d=Math.ceil(Oc*1024/e.samplerate),l.length&&(m=l.length*d,this.trigger("segmentTimingInfo",fl($i.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),l[0].dts,l[0].pts,l[0].dts+m,l[0].pts+m,g||0)),this.trigger("timingInfo",{start:l[0].pts,end:l[0].pts+m})),this.trigger("data",{track:e,boxes:c}),this.trigger("done","AudioSegmentStream")},this.reset=function(){Ee.clearDtsInfo(e),n=[],this.trigger("reset")}};Mt.prototype=new _n;gi=function(e,t){var n,r=[],s=[],a,o;t=t||{},n=t.firstSequenceNumber||0,gi.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(l){Ee.collectDtsInfo(e,l),l.nalUnitType==="seq_parameter_set_rbsp"&&!a&&(a=l.config,e.sps=[l.data],ll.forEach(function(u){e[u]=a[u]},this)),l.nalUnitType==="pic_parameter_set_rbsp"&&!o&&(o=l.data,e.pps=[l.data]),r.push(l)},this.flush=function(){for(var l,u,f,c,d,m,g=0,x,F;r.length&&r[0].nalUnitType!=="access_unit_delimiter_rbsp";)r.shift();if(r.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(l=zt.groupNalsIntoFrames(r),f=zt.groupFramesIntoGops(l),f[0][0].keyFrame||(u=this.getGopForFusion_(r[0],e),u?(g=u.duration,f.unshift(u),f.byteLength+=u.byteLength,f.nalCount+=u.nalCount,f.pts=u.pts,f.dts=u.dts,f.duration+=u.duration):f=zt.extendFirstKeyFrame(f)),s.length){var P;if(t.alignGopsAtEnd?P=this.alignGopsAtEnd_(f):P=this.alignGopsAtStart_(f),!P){this.gopCache_.unshift({gop:f.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),r=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}Ee.clearDtsInfo(e),f=P}Ee.collectDtsInfo(e,f),e.samples=zt.generateSampleTable(f),d=mi.mdat(zt.concatenateNalData(f)),e.baseMediaDecodeTime=Ee.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",f.map(function(E){return{pts:E.pts,dts:E.dts,byteLength:E.byteLength}})),x=f[0],F=f[f.length-1],this.trigger("segmentTimingInfo",fl(e.baseMediaDecodeTime,x.dts,x.pts,F.dts+F.duration,F.pts+F.duration,g)),this.trigger("timingInfo",{start:f[0].pts,end:f[f.length-1].pts+f[f.length-1].duration}),this.gopCache_.unshift({gop:f.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),r=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),c=mi.moof(n,[e]),m=new Uint8Array(c.byteLength+d.byteLength),n++,m.set(c),m.set(d,c.byteLength),this.trigger("data",{track:e,boxes:m}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),r=[],this.gopCache_.length=0,s.length=0,this.trigger("reset")},this.resetStream_=function(){Ee.clearDtsInfo(e),a=void 0,o=void 0},this.getGopForFusion_=function(l){var u=45e3,f=1/0,c,d,m,g,x;for(x=0;x<this.gopCache_.length;x++)g=this.gopCache_[x],m=g.gop,!(!(e.pps&&qs(e.pps[0],g.pps[0]))||!(e.sps&&qs(e.sps[0],g.sps[0])))&&(m.dts<e.timelineStartInfo.dts||(c=l.dts-m.dts-m.duration,c>=-1e4&&c<=u&&(!d||f>c)&&(d=g,f=c)));return d?d.gop:null},this.alignGopsAtStart_=function(l){var u,f,c,d,m,g,x,F;for(m=l.byteLength,g=l.nalCount,x=l.duration,u=f=0;u<s.length&&f<l.length&&(c=s[u],d=l[f],c.pts!==d.pts);){if(d.pts>c.pts){u++;continue}f++,m-=d.byteLength,g-=d.nalCount,x-=d.duration}return f===0?l:f===l.length?null:(F=l.slice(f),F.byteLength=m,F.duration=x,F.nalCount=g,F.pts=F[0].pts,F.dts=F[0].dts,F)},this.alignGopsAtEnd_=function(l){var u,f,c,d,m,g;for(u=s.length-1,f=l.length-1,m=null,g=!1;u>=0&&f>=0;){if(c=s[u],d=l[f],c.pts===d.pts){g=!0;break}if(c.pts>d.pts){u--;continue}u===s.length-1&&(m=f),f--}if(!g&&m===null)return null;var x;if(g?x=f:x=m,x===0)return l;var F=l.slice(x),P=F.reduce(function(E,G){return E.byteLength+=G.byteLength,E.duration+=G.duration,E.nalCount+=G.nalCount,E},{byteLength:0,duration:0,nalCount:0});return F.byteLength=P.byteLength,F.duration=P.duration,F.nalCount=P.nalCount,F.pts=F[0].pts,F.dts=F[0].dts,F},this.alignGopsWith=function(l){s=l}};gi.prototype=new _n;St=function(e,t){this.numberOfTracks=0,this.metadataStream=t,e=e||{},typeof e.remux<"u"?this.remuxTracks=!!e.remux:this.remuxTracks=!0,typeof e.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,St.prototype.init.call(this),this.push=function(n){if(n.text)return this.pendingCaptions.push(n);if(n.frames)return this.pendingMetadata.push(n);this.pendingTracks.push(n.track),this.pendingBytes+=n.boxes.byteLength,n.track.type==="video"&&(this.videoTrack=n.track,this.pendingBoxes.push(n.boxes)),n.track.type==="audio"&&(this.audioTrack=n.track,this.pendingBoxes.unshift(n.boxes))}};St.prototype=new _n;St.prototype.flush=function(i){var e=0,t={captions:[],captionStreams:{},metadata:[],info:{}},n,r,s,a=0,o;if(this.pendingTracks.length<this.numberOfTracks){if(i!=="VideoSegmentStream"&&i!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(a=this.videoTrack.timelineStartInfo.pts,ll.forEach(function(l){t.info[l]=this.videoTrack[l]},this)):this.audioTrack&&(a=this.audioTrack.timelineStartInfo.pts,ol.forEach(function(l){t.info[l]=this.audioTrack[l]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?t.type=this.pendingTracks[0].type:t.type="combined",this.emittedTracks+=this.pendingTracks.length,s=mi.initSegment(this.pendingTracks),t.initSegment=new Uint8Array(s.byteLength),t.initSegment.set(s),t.data=new Uint8Array(this.pendingBytes),o=0;o<this.pendingBoxes.length;o++)t.data.set(this.pendingBoxes[o],e),e+=this.pendingBoxes[o].byteLength;for(o=0;o<this.pendingCaptions.length;o++)n=this.pendingCaptions[o],n.startTime=$i.metadataTsToSeconds(n.startPts,a,this.keepOriginalTimestamps),n.endTime=$i.metadataTsToSeconds(n.endPts,a,this.keepOriginalTimestamps),t.captionStreams[n.stream]=!0,t.captions.push(n);for(o=0;o<this.pendingMetadata.length;o++)r=this.pendingMetadata[o],r.cueTime=$i.metadataTsToSeconds(r.pts,a,this.keepOriginalTimestamps),t.metadata.push(r);for(t.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",t),o=0;o<t.captions.length;o++)n=t.captions[o],this.trigger("caption",n);for(o=0;o<t.metadata.length;o++)r=t.metadata[o],this.trigger("id3Frame",r)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)};St.prototype.setRemux=function(i){this.remuxTracks=i};en=function(e){var t=this,n=!0,r,s;en.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var a={};this.transmuxPipeline_=a,a.type="aac",a.metadataStream=new ze.MetadataStream,a.aacStream=new Uc,a.audioTimestampRolloverStream=new ze.TimestampRolloverStream("audio"),a.timedMetadataTimestampRolloverStream=new ze.TimestampRolloverStream("timed-metadata"),a.adtsStream=new js,a.coalesceStream=new St(e,a.metadataStream),a.headOfPipeline=a.aacStream,a.aacStream.pipe(a.audioTimestampRolloverStream).pipe(a.adtsStream),a.aacStream.pipe(a.timedMetadataTimestampRolloverStream).pipe(a.metadataStream).pipe(a.coalesceStream),a.metadataStream.on("timestamp",function(o){a.aacStream.setTimestamp(o.timeStamp)}),a.aacStream.on("data",function(o){o.type!=="timed-metadata"&&o.type!=="audio"||a.audioSegmentStream||(s=s||{timelineStartInfo:{baseMediaDecodeTime:t.baseMediaDecodeTime},codec:"adts",type:"audio"},a.coalesceStream.numberOfTracks++,a.audioSegmentStream=new Mt(s,e),a.audioSegmentStream.on("log",t.getLogTrigger_("audioSegmentStream")),a.audioSegmentStream.on("timingInfo",t.trigger.bind(t,"audioTimingInfo")),a.adtsStream.pipe(a.audioSegmentStream).pipe(a.coalesceStream),t.trigger("trackinfo",{hasAudio:!!s,hasVideo:!!r}))}),a.coalesceStream.on("data",this.trigger.bind(this,"data")),a.coalesceStream.on("done",this.trigger.bind(this,"done")),Ks(this,a)},this.setupTsPipeline=function(){var a={};this.transmuxPipeline_=a,a.type="ts",a.metadataStream=new ze.MetadataStream,a.packetStream=new ze.TransportPacketStream,a.parseStream=new ze.TransportParseStream,a.elementaryStream=new ze.ElementaryStream,a.timestampRolloverStream=new ze.TimestampRolloverStream,a.adtsStream=new js,a.h264Stream=new Ec,a.captionStream=new ze.CaptionStream(e),a.coalesceStream=new St(e,a.metadataStream),a.headOfPipeline=a.packetStream,a.packetStream.pipe(a.parseStream).pipe(a.elementaryStream).pipe(a.timestampRolloverStream),a.timestampRolloverStream.pipe(a.h264Stream),a.timestampRolloverStream.pipe(a.adtsStream),a.timestampRolloverStream.pipe(a.metadataStream).pipe(a.coalesceStream),a.h264Stream.pipe(a.captionStream).pipe(a.coalesceStream),a.elementaryStream.on("data",function(o){var l;if(o.type==="metadata"){for(l=o.tracks.length;l--;)!r&&o.tracks[l].type==="video"?(r=o.tracks[l],r.timelineStartInfo.baseMediaDecodeTime=t.baseMediaDecodeTime):!s&&o.tracks[l].type==="audio"&&(s=o.tracks[l],s.timelineStartInfo.baseMediaDecodeTime=t.baseMediaDecodeTime);r&&!a.videoSegmentStream&&(a.coalesceStream.numberOfTracks++,a.videoSegmentStream=new gi(r,e),a.videoSegmentStream.on("log",t.getLogTrigger_("videoSegmentStream")),a.videoSegmentStream.on("timelineStartInfo",function(u){s&&!e.keepOriginalTimestamps&&(s.timelineStartInfo=u,a.audioSegmentStream.setEarliestDts(u.dts-t.baseMediaDecodeTime))}),a.videoSegmentStream.on("processedGopsInfo",t.trigger.bind(t,"gopInfo")),a.videoSegmentStream.on("segmentTimingInfo",t.trigger.bind(t,"videoSegmentTimingInfo")),a.videoSegmentStream.on("baseMediaDecodeTime",function(u){s&&a.audioSegmentStream.setVideoBaseMediaDecodeTime(u)}),a.videoSegmentStream.on("timingInfo",t.trigger.bind(t,"videoTimingInfo")),a.h264Stream.pipe(a.videoSegmentStream).pipe(a.coalesceStream)),s&&!a.audioSegmentStream&&(a.coalesceStream.numberOfTracks++,a.audioSegmentStream=new Mt(s,e),a.audioSegmentStream.on("log",t.getLogTrigger_("audioSegmentStream")),a.audioSegmentStream.on("timingInfo",t.trigger.bind(t,"audioTimingInfo")),a.audioSegmentStream.on("segmentTimingInfo",t.trigger.bind(t,"audioSegmentTimingInfo")),a.adtsStream.pipe(a.audioSegmentStream).pipe(a.coalesceStream)),t.trigger("trackinfo",{hasAudio:!!s,hasVideo:!!r})}}),a.coalesceStream.on("data",this.trigger.bind(this,"data")),a.coalesceStream.on("id3Frame",function(o){o.dispatchType=a.metadataStream.dispatchType,t.trigger("id3Frame",o)}),a.coalesceStream.on("caption",this.trigger.bind(this,"caption")),a.coalesceStream.on("done",this.trigger.bind(this,"done")),Ks(this,a)},this.setBaseMediaDecodeTime=function(a){var o=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=a),s&&(s.timelineStartInfo.dts=void 0,s.timelineStartInfo.pts=void 0,Ee.clearDtsInfo(s),o.audioTimestampRolloverStream&&o.audioTimestampRolloverStream.discontinuity()),r&&(o.videoSegmentStream&&(o.videoSegmentStream.gopCache_=[]),r.timelineStartInfo.dts=void 0,r.timelineStartInfo.pts=void 0,Ee.clearDtsInfo(r),o.captionStream.reset()),o.timestampRolloverStream&&o.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(a){s&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(a)},this.setRemux=function(a){var o=this.transmuxPipeline_;e.remux=a,o&&o.coalesceStream&&o.coalesceStream.setRemux(a)},this.alignGopsWith=function(a){r&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(a)},this.getLogTrigger_=function(a){var o=this;return function(l){l.stream=a,o.trigger("log",l)}},this.push=function(a){if(n){var o=Ic(a);o&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!o&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),n=!1}this.transmuxPipeline_.headOfPipeline.push(a)},this.flush=function(){n=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}};en.prototype=new _n;var jn={Transmuxer:en,VideoSegmentStream:gi,AudioSegmentStream:Mt},Lc=Zo.discardEmulationPreventionBytes,Rc=Qo.CaptionStream,jt=zr,Nc=qr,Bc=Kr,$c=jr,Ys=$o,Vc=function(e,t){for(var n=e,r=0;r<t.length;r++){var s=t[r];if(n<s.size)return s;n-=s.size}return null},kc=function(e,t,n){var r=new DataView(e.buffer,e.byteOffset,e.byteLength),s={logs:[],seiNals:[]},a,o,l,u;for(o=0;o+4<e.length;o+=l)if(l=r.getUint32(o),o+=4,!(l<=0))switch(e[o]&31){case 6:var f=e.subarray(o+1,o+1+l),c=Vc(o,t);if(a={nalUnitType:"sei_rbsp",size:l,data:f,escapedRBSP:Lc(f),trackId:n},c)a.pts=c.pts,a.dts=c.dts,u=c;else if(u)a.pts=u.pts,a.dts=u.dts;else{s.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+o+" for trackId "+n+". See mux.js#223."});break}s.seiNals.push(a);break}return s},Hc=function(e,t,n){var r=t,s=n.defaultSampleDuration||0,a=n.defaultSampleSize||0,o=n.trackId,l=[];return e.forEach(function(u){var f=Bc(u),c=f.samples;c.forEach(function(d){d.duration===void 0&&(d.duration=s),d.size===void 0&&(d.size=a),d.trackId=o,d.dts=r,d.compositionTimeOffset===void 0&&(d.compositionTimeOffset=0),typeof r=="bigint"?(d.pts=r+Ys.BigInt(d.compositionTimeOffset),r+=Ys.BigInt(d.duration)):(d.pts=r+d.compositionTimeOffset,r+=d.duration)}),l=l.concat(c)}),l},Gc=function(e,t){var n=jt(e,["moof","traf"]),r=jt(e,["mdat"]),s={},a=[];return r.forEach(function(o,l){var u=n[l];a.push({mdat:o,traf:u})}),a.forEach(function(o){var l=o.mdat,u=o.traf,f=jt(u,["tfhd"]),c=$c(f[0]),d=c.trackId,m=jt(u,["tfdt"]),g=m.length>0?Nc(m[0]).baseMediaDecodeTime:0,x=jt(u,["trun"]),F,P;t===d&&x.length>0&&(F=Hc(x,g,c),P=kc(l,F,d),s[d]||(s[d]={seiNals:[],logs:[]}),s[d].seiNals=s[d].seiNals.concat(P.seiNals),s[d].logs=s[d].logs.concat(P.logs))}),s},Wc=function(e,t,n){var r;if(t===null)return null;r=Gc(e,t);var s=r[t]||{};return{seiNals:s.seiNals,logs:s.logs,timescale:n}},zc=function(){var e=!1,t,n,r,s,a,o;this.isInitialized=function(){return e},this.init=function(l){t=new Rc,e=!0,o=l?l.isPartial:!1,t.on("data",function(u){u.startTime=u.startPts/s,u.endTime=u.endPts/s,a.captions.push(u),a.captionStreams[u.stream]=!0}),t.on("log",function(u){a.logs.push(u)})},this.isNewInit=function(l,u){return l&&l.length===0||u&&typeof u=="object"&&Object.keys(u).length===0?!1:r!==l[0]||s!==u[r]},this.parse=function(l,u,f){var c;if(this.isInitialized()){if(!u||!f)return null;if(this.isNewInit(u,f))r=u[0],s=f[r];else if(r===null||!s)return n.push(l),null}else return null;for(;n.length>0;){var d=n.shift();this.parse(d,u,f)}return c=Wc(l,r,s),c&&c.logs&&(a.logs=a.logs.concat(c.logs)),c===null||!c.seiNals?a.logs.length?{logs:a.logs,captions:[],captionStreams:[]}:null:(this.pushNals(c.seiNals),this.flushStream(),a)},this.pushNals=function(l){if(!this.isInitialized()||!l||l.length===0)return null;l.forEach(function(u){t.push(u)})},this.flushStream=function(){if(!this.isInitialized())return null;o?t.partialFlush():t.flush()},this.clearParsedCaptions=function(){a.captions=[],a.captionStreams={},a.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){n=[],r=null,s=null,a?this.clearParsedCaptions():a={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},jc=zc,Kc={generator:mn,probe:Lu,Transmuxer:jn.Transmuxer,AudioSegmentStream:jn.AudioSegmentStream,VideoSegmentStream:jn.VideoSegmentStream,CaptionParser:jc},W;W=function(e,t){var n=0,r=16384,s=function(c,d){var m,g=c.position+d;g<c.bytes.byteLength||(m=new Uint8Array(g*2),m.set(c.bytes.subarray(0,c.position),0),c.bytes=m,c.view=new DataView(c.bytes.buffer))},a=W.widthBytes||new Uint8Array(5),o=W.heightBytes||new Uint8Array(6),l=W.videocodecidBytes||new Uint8Array(12),u;if(!W.widthBytes){for(u=0;u<5;u++)a[u]="width".charCodeAt(u);for(u=0;u<6;u++)o[u]="height".charCodeAt(u);for(u=0;u<12;u++)l[u]="videocodecid".charCodeAt(u);W.widthBytes=a,W.heightBytes=o,W.videocodecidBytes=l}switch(this.keyFrame=!1,e){case W.VIDEO_TAG:this.length=16,r*=6;break;case W.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case W.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(r),this.view=new DataView(this.bytes.buffer),this.bytes[0]=e,this.position=this.length,this.keyFrame=t,this.pts=0,this.dts=0,this.writeBytes=function(f,c,d){var m=c||0,g;d=d||f.byteLength,g=m+d,s(this,d),this.bytes.set(f.subarray(m,g),this.position),this.position+=d,this.length=Math.max(this.length,this.position)},this.writeByte=function(f){s(this,1),this.bytes[this.position]=f,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(f){s(this,2),this.view.setUint16(this.position,f),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(f){return this.bytes[this.length-f]},this.nalUnitSize=function(){return n===0?0:this.length-(n+4)},this.startNalUnit=function(){if(n>0)throw new Error("Attempted to create new NAL wihout closing the old one");n=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(f){var c,d;this.length===n+4?this.length-=4:n>0&&(c=n+4,d=this.length-c,this.position=n,this.view.setUint32(this.position,d),this.position=this.length,f&&f.push(this.bytes.subarray(c,c+d))),n=0},this.writeMetaDataDouble=function(f,c){var d;if(s(this,2+f.length+9),this.view.setUint16(this.position,f.length),this.position+=2,f==="width")this.bytes.set(a,this.position),this.position+=5;else if(f==="height")this.bytes.set(o,this.position),this.position+=6;else if(f==="videocodecid")this.bytes.set(l,this.position),this.position+=12;else for(d=0;d<f.length;d++)this.bytes[this.position]=f.charCodeAt(d),this.position++;this.position++,this.view.setFloat64(this.position,c),this.position+=8,this.length=Math.max(this.length,this.position),++n},this.writeMetaDataBoolean=function(f,c){var d;for(s(this,2),this.view.setUint16(this.position,f.length),this.position+=2,d=0;d<f.length;d++)s(this,1),this.bytes[this.position]=f.charCodeAt(d),this.position++;s(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,c?1:0),this.position++,this.length=Math.max(this.length,this.position),++n},this.finalize=function(){var f,c;switch(this.bytes[0]){case W.VIDEO_TAG:this.bytes[11]=(this.keyFrame||t?16:32)|7,this.bytes[12]=t?0:1,f=this.pts-this.dts,this.bytes[13]=(f&16711680)>>>16,this.bytes[14]=(f&65280)>>>8,this.bytes[15]=(f&255)>>>0;break;case W.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=t?0:1;break;case W.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,n),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position;break}return c=this.length-11,this.bytes[1]=(c&16711680)>>>16,this.bytes[2]=(c&65280)>>>8,this.bytes[3]=(c&255)>>>0,this.bytes[4]=(this.dts&16711680)>>>16,this.bytes[5]=(this.dts&65280)>>>8,this.bytes[6]=(this.dts&255)>>>0,this.bytes[7]=(this.dts&4278190080)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,s(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=W.frameTime(this.bytes),this}};W.AUDIO_TAG=8;W.VIDEO_TAG=9;W.METADATA_TAG=18;W.isAudioFrame=function(i){return W.AUDIO_TAG===i[0]};W.isVideoFrame=function(i){return W.VIDEO_TAG===i[0]};W.isMetaData=function(i){return W.METADATA_TAG===i[0]};W.isKeyFrame=function(i){return W.isVideoFrame(i)?i[11]===23:!!(W.isAudioFrame(i)||W.isMetaData(i))};W.frameTime=function(i){var e=i[4]<<16;return e|=i[5]<<8,e|=i[6]<<0,e|=i[7]<<24,e};var Zr=W,qc=we,Qr=function i(e){this.numberOfTracks=0,this.metadataStream=e.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,this.processedTracks=0,i.prototype.init.call(this),this.push=function(t){if(t.text)return this.pendingCaptions.push(t);if(t.frames)return this.pendingMetadata.push(t);t.track.type==="video"&&(this.videoTrack=t.track,this.videoTags=t.tags,this.pendingTracks++),t.track.type==="audio"&&(this.audioTrack=t.track,this.audioTags=t.tags,this.pendingTracks++)}};Qr.prototype=new qc;Qr.prototype.flush=function(i){var e,t,n,r,s={tags:{},captions:[],captionStreams:{},metadata:[]};if(this.pendingTracks<this.numberOfTracks){if(i!=="VideoSegmentStream"&&i!=="AudioSegmentStream")return;if(this.pendingTracks===0&&(this.processedTracks++,this.processedTracks<this.numberOfTracks))return}if(this.processedTracks+=this.pendingTracks,this.pendingTracks=0,!(this.processedTracks<this.numberOfTracks)){for(this.videoTrack?r=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(r=this.audioTrack.timelineStartInfo.pts),s.tags.videoTags=this.videoTags,s.tags.audioTags=this.audioTags,n=0;n<this.pendingCaptions.length;n++)t=this.pendingCaptions[n],t.startTime=t.startPts-r,t.startTime/=9e4,t.endTime=t.endPts-r,t.endTime/=9e4,s.captionStreams[t.stream]=!0,s.captions.push(t);for(n=0;n<this.pendingMetadata.length;n++)e=this.pendingMetadata[n],e.cueTime=e.pts-r,e.cueTime/=9e4,s.metadata.push(e);s.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.processedTracks=0,this.trigger("data",s),this.trigger("done")}};var Yc=Qr,Xc=function(){var e=this;this.list=[],this.push=function(t){this.list.push({bytes:t.bytes,dts:t.dts,pts:t.pts,keyFrame:t.keyFrame,metaDataTag:t.metaDataTag})},Object.defineProperty(this,"length",{get:function(){return e.list.length}})},Jc=Xc,es=we,Pe=Zr,nt=bn,Zc=pn,Qc=Gr.H264Stream,ed=Yc,ul=Jc,tn,nn,rn,ts,cl,dl;ts=function(e,t){typeof t.pts=="number"&&(e.timelineStartInfo.pts===void 0?e.timelineStartInfo.pts=t.pts:e.timelineStartInfo.pts=Math.min(e.timelineStartInfo.pts,t.pts)),typeof t.dts=="number"&&(e.timelineStartInfo.dts===void 0?e.timelineStartInfo.dts=t.dts:e.timelineStartInfo.dts=Math.min(e.timelineStartInfo.dts,t.dts))};cl=function(e,t){var n=new Pe(Pe.METADATA_TAG);return n.dts=t,n.pts=t,n.writeMetaDataDouble("videocodecid",7),n.writeMetaDataDouble("width",e.width),n.writeMetaDataDouble("height",e.height),n};dl=function(e,t){var n,r=new Pe(Pe.VIDEO_TAG,!0);for(r.dts=t,r.pts=t,r.writeByte(1),r.writeByte(e.profileIdc),r.writeByte(e.profileCompatibility),r.writeByte(e.levelIdc),r.writeByte(255),r.writeByte(225),r.writeShort(e.sps[0].length),r.writeBytes(e.sps[0]),r.writeByte(e.pps.length),n=0;n<e.pps.length;++n)r.writeShort(e.pps[n].length),r.writeBytes(e.pps[n]);return r};rn=function(e){var t=[],n=[],r;rn.prototype.init.call(this),this.push=function(s){ts(e,s),e&&(e.audioobjecttype=s.audioobjecttype,e.channelcount=s.channelcount,e.samplerate=s.samplerate,e.samplingfrequencyindex=s.samplingfrequencyindex,e.samplesize=s.samplesize,e.extraData=e.audioobjecttype<<11|e.samplingfrequencyindex<<7|e.channelcount<<3),s.pts=Math.round(s.pts/90),s.dts=Math.round(s.dts/90),t.push(s)},this.flush=function(){var s,a,o,l=new ul;if(t.length===0){this.trigger("done","AudioSegmentStream");return}for(o=-1/0;t.length;)s=t.shift(),n.length&&s.pts>=n[0]&&(o=n.shift(),this.writeMetaDataTags(l,o)),(e.extraData!==r||s.pts-o>=1e3)&&(this.writeMetaDataTags(l,s.pts),r=e.extraData,o=s.pts),a=new Pe(Pe.AUDIO_TAG),a.pts=s.pts,a.dts=s.dts,a.writeBytes(s.data),l.push(a.finalize());n.length=0,r=null,this.trigger("data",{track:e,tags:l.list}),this.trigger("done","AudioSegmentStream")},this.writeMetaDataTags=function(s,a){var o;o=new Pe(Pe.METADATA_TAG),o.pts=a,o.dts=a,o.writeMetaDataDouble("audiocodecid",10),o.writeMetaDataBoolean("stereo",e.channelcount===2),o.writeMetaDataDouble("audiosamplerate",e.samplerate),o.writeMetaDataDouble("audiosamplesize",16),s.push(o.finalize()),o=new Pe(Pe.AUDIO_TAG,!0),o.pts=a,o.dts=a,o.view.setUint16(o.position,e.extraData),o.position+=2,o.length=Math.max(o.length,o.position),s.push(o.finalize())},this.onVideoKeyFrame=function(s){n.push(s)}};rn.prototype=new es;nn=function(e){var t=[],n,r;nn.prototype.init.call(this),this.finishFrame=function(s,a){if(a){if(n&&e&&e.newMetadata&&(a.keyFrame||s.length===0)){var o=cl(n,a.dts).finalize(),l=dl(e,a.dts).finalize();o.metaDataTag=l.metaDataTag=!0,s.push(o),s.push(l),e.newMetadata=!1,this.trigger("keyframe",a.dts)}a.endNalUnit(),s.push(a.finalize()),r=null}},this.push=function(s){ts(e,s),s.pts=Math.round(s.pts/90),s.dts=Math.round(s.dts/90),t.push(s)},this.flush=function(){for(var s,a=new ul;t.length&&t[0].nalUnitType!=="access_unit_delimiter_rbsp";)t.shift();if(t.length===0){this.trigger("done","VideoSegmentStream");return}for(;t.length;)s=t.shift(),s.nalUnitType==="seq_parameter_set_rbsp"?(e.newMetadata=!0,n=s.config,e.width=n.width,e.height=n.height,e.sps=[s.data],e.profileIdc=n.profileIdc,e.levelIdc=n.levelIdc,e.profileCompatibility=n.profileCompatibility,r.endNalUnit()):s.nalUnitType==="pic_parameter_set_rbsp"?(e.newMetadata=!0,e.pps=[s.data],r.endNalUnit()):s.nalUnitType==="access_unit_delimiter_rbsp"?(r&&this.finishFrame(a,r),r=new Pe(Pe.VIDEO_TAG),r.pts=s.pts,r.dts=s.dts):(s.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(r.keyFrame=!0),r.endNalUnit()),r.startNalUnit(),r.writeBytes(s.data);r&&this.finishFrame(a,r),this.trigger("data",{track:e,tags:a.list}),this.trigger("done","VideoSegmentStream")}};nn.prototype=new es;tn=function(e){var t=this,n,r,s,a,o,l,u,f,c,d,m,g;tn.prototype.init.call(this),e=e||{},this.metadataStream=new nt.MetadataStream,e.metadataStream=this.metadataStream,n=new nt.TransportPacketStream,r=new nt.TransportParseStream,s=new nt.ElementaryStream,a=new nt.TimestampRolloverStream("video"),o=new nt.TimestampRolloverStream("audio"),l=new nt.TimestampRolloverStream("timed-metadata"),u=new Zc,f=new Qc,g=new ed(e),n.pipe(r).pipe(s),s.pipe(a).pipe(f),s.pipe(o).pipe(u),s.pipe(l).pipe(this.metadataStream).pipe(g),m=new nt.CaptionStream(e),f.pipe(m).pipe(g),s.on("data",function(x){var F,P,E;if(x.type==="metadata"){for(F=x.tracks.length;F--;)x.tracks[F].type==="video"?P=x.tracks[F]:x.tracks[F].type==="audio"&&(E=x.tracks[F]);P&&!c&&(g.numberOfTracks++,c=new nn(P),f.pipe(c).pipe(g)),E&&!d&&(g.numberOfTracks++,d=new rn(E),u.pipe(d).pipe(g),c&&c.on("keyframe",d.onVideoKeyFrame))}}),this.push=function(x){n.push(x)},this.flush=function(){n.flush()},this.resetCaptions=function(){m.reset()},g.on("data",function(x){t.trigger("data",x)}),g.on("done",function(){t.trigger("done")})};tn.prototype=new es;var td=tn,Xs=Zr,id=function(e,t,n){var r=new Uint8Array(9),s=new DataView(r.buffer),a,o,l;return e=e||0,t=t===void 0?!0:t,n=n===void 0?!0:n,s.setUint8(0,70),s.setUint8(1,76),s.setUint8(2,86),s.setUint8(3,1),s.setUint8(4,(t?4:0)|(n?1:0)),s.setUint32(5,r.byteLength),e<=0?(o=new Uint8Array(r.byteLength+4),o.set(r),o.set([0,0,0,0],r.byteLength),o):(a=new Xs(Xs.METADATA_TAG),a.pts=a.dts=0,a.writeMetaDataDouble("duration",e),l=a.finalize().length,o=new Uint8Array(r.byteLength+l),o.set(r),o.set(s.byteLength,l),o)},nd=id,rd={tag:Zr,Transmuxer:td,getFlvHeader:nd},sd=bn,ad=we,Kn=mn,Ii=Xo,Oi=xn,od=ft.ONE_SECOND_IN_TS,ld=sl,hl=function i(e,t){var n=[],r=0,s=0,a=0,o=1/0,l=null,u=null;t=t||{},i.prototype.init.call(this),this.push=function(f){Oi.collectDtsInfo(e,f),e&&ld.forEach(function(c){e[c]=f[c]}),n.push(f)},this.setEarliestDts=function(f){s=f},this.setVideoBaseMediaDecodeTime=function(f){o=f},this.setAudioAppendStart=function(f){a=f},this.processFrames_=function(){var f,c,d,m,g;n.length!==0&&(f=Ii.trimAdtsFramesByEarliestDts(n,e,s),f.length!==0&&(e.baseMediaDecodeTime=Oi.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),Ii.prefixWithSilence(e,f,a,o),e.samples=Ii.generateSampleTable(f),d=Kn.mdat(Ii.concatenateFrameData(f)),n=[],c=Kn.moof(r,[e]),r++,e.initSegment=Kn.initSegment([e]),m=new Uint8Array(c.byteLength+d.byteLength),m.set(c),m.set(d,c.byteLength),Oi.clearDtsInfo(e),l===null&&(u=l=f[0].pts),u+=f.length*(od*1024/e.samplerate),g={start:l},this.trigger("timingInfo",g),this.trigger("data",{track:e,boxes:m})))},this.flush=function(){this.processFrames_(),this.trigger("timingInfo",{start:l,end:u}),this.resetTiming_(),this.trigger("done","AudioSegmentStream")},this.partialFlush=function(){this.processFrames_(),this.trigger("partialdone","AudioSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","AudioSegmentStream")},this.resetTiming_=function(){Oi.clearDtsInfo(e),l=null,u=null},this.reset=function(){this.resetTiming_(),n=[],this.trigger("reset")}};hl.prototype=new ad;var fd=hl,ud=we,qn=mn,Mi=xn,Kt=Yo,cd=al,pl=function i(e,t){var n=0,r=[],s=[],a,o,l=null,u=null,f,c=!0;t=t||{},i.prototype.init.call(this),this.push=function(d){Mi.collectDtsInfo(e,d),typeof e.timelineStartInfo.dts>"u"&&(e.timelineStartInfo.dts=d.dts),d.nalUnitType==="seq_parameter_set_rbsp"&&!a&&(a=d.config,e.sps=[d.data],cd.forEach(function(m){e[m]=a[m]},this)),d.nalUnitType==="pic_parameter_set_rbsp"&&!o&&(o=d.data,e.pps=[d.data]),r.push(d)},this.processNals_=function(d){var m;for(r=s.concat(r);r.length&&r[0].nalUnitType!=="access_unit_delimiter_rbsp";)r.shift();if(r.length!==0){var g=Kt.groupNalsIntoFrames(r);if(g.length){if(s=g[g.length-1],d&&(g.pop(),g.duration-=s.duration,g.nalCount-=s.length,g.byteLength-=s.byteLength),!g.length){r=[];return}if(this.trigger("timelineStartInfo",e.timelineStartInfo),c){if(f=Kt.groupFramesIntoGops(g),!f[0][0].keyFrame){if(f=Kt.extendFirstKeyFrame(f),!f[0][0].keyFrame){r=[].concat.apply([],g).concat(s),s=[];return}g=[].concat.apply([],f),g.duration=f.duration}c=!1}for(l===null&&(l=g[0].pts,u=l),u+=g.duration,this.trigger("timingInfo",{start:l,end:u}),m=0;m<g.length;m++){var x=g[m];e.samples=Kt.generateSampleTableForFrame(x);var F=qn.mdat(Kt.concatenateNalDataForFrame(x));Mi.clearDtsInfo(e),Mi.collectDtsInfo(e,x),e.baseMediaDecodeTime=Mi.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps);var P=qn.moof(n,[e]);n++,e.initSegment=qn.initSegment([e]);var E=new Uint8Array(P.byteLength+F.byteLength);E.set(P),E.set(F,P.byteLength),this.trigger("data",{track:e,boxes:E,sequence:n,videoFrameDts:x.dts,videoFramePts:x.pts})}r=[]}}},this.resetTimingAndConfig_=function(){a=void 0,o=void 0,l=null,u=null},this.partialFlush=function(){this.processNals_(!0),this.trigger("partialdone","VideoSegmentStream")},this.flush=function(){this.processNals_(!1),this.resetTimingAndConfig_(),this.trigger("done","VideoSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","VideoSegmentStream")},this.reset=function(){this.resetTimingAndConfig_(),s=[],r=[],c=!0,this.trigger("reset")}};pl.prototype=new ud;var dd=pl,ml=we,qe=bn,Js=fo,gl=fd,hd=dd,Zs=xn,pd=Tn.isLikelyAacData,md=pn,gd=rl,mr=ft,xl=function(e){return e.prototype=new ml,e.prototype.init.call(e),e},xd=function(e){var t={type:"ts",tracks:{audio:null,video:null},packet:new qe.TransportPacketStream,parse:new qe.TransportParseStream,elementary:new qe.ElementaryStream,timestampRollover:new qe.TimestampRolloverStream,adts:new Js.Adts,h264:new Js.h264.H264Stream,captionStream:new qe.CaptionStream(e),metadataStream:new qe.MetadataStream};return t.headOfPipeline=t.packet,t.packet.pipe(t.parse).pipe(t.elementary).pipe(t.timestampRollover),t.timestampRollover.pipe(t.h264),t.h264.pipe(t.captionStream),t.timestampRollover.pipe(t.metadataStream),t.timestampRollover.pipe(t.adts),t.elementary.on("data",function(n){if(n.type==="metadata"){for(var r=0;r<n.tracks.length;r++)t.tracks[n.tracks[r].type]||(t.tracks[n.tracks[r].type]=n.tracks[r],t.tracks[n.tracks[r].type].timelineStartInfo.baseMediaDecodeTime=e.baseMediaDecodeTime);t.tracks.video&&!t.videoSegmentStream&&(t.videoSegmentStream=new hd(t.tracks.video,e),t.videoSegmentStream.on("timelineStartInfo",function(s){t.tracks.audio&&!e.keepOriginalTimestamps&&t.audioSegmentStream.setEarliestDts(s.dts-e.baseMediaDecodeTime)}),t.videoSegmentStream.on("timingInfo",t.trigger.bind(t,"videoTimingInfo")),t.videoSegmentStream.on("data",function(s){t.trigger("data",{type:"video",data:s})}),t.videoSegmentStream.on("done",t.trigger.bind(t,"done")),t.videoSegmentStream.on("partialdone",t.trigger.bind(t,"partialdone")),t.videoSegmentStream.on("endedtimeline",t.trigger.bind(t,"endedtimeline")),t.h264.pipe(t.videoSegmentStream)),t.tracks.audio&&!t.audioSegmentStream&&(t.audioSegmentStream=new gl(t.tracks.audio,e),t.audioSegmentStream.on("data",function(s){t.trigger("data",{type:"audio",data:s})}),t.audioSegmentStream.on("done",t.trigger.bind(t,"done")),t.audioSegmentStream.on("partialdone",t.trigger.bind(t,"partialdone")),t.audioSegmentStream.on("endedtimeline",t.trigger.bind(t,"endedtimeline")),t.audioSegmentStream.on("timingInfo",t.trigger.bind(t,"audioTimingInfo")),t.adts.pipe(t.audioSegmentStream)),t.trigger("trackinfo",{hasAudio:!!t.tracks.audio,hasVideo:!!t.tracks.video})}}),t.captionStream.on("data",function(n){var r;t.tracks.video?r=t.tracks.video.timelineStartInfo.pts||0:r=0,n.startTime=mr.metadataTsToSeconds(n.startPts,r,e.keepOriginalTimestamps),n.endTime=mr.metadataTsToSeconds(n.endPts,r,e.keepOriginalTimestamps),t.trigger("caption",n)}),t=xl(t),t.metadataStream.on("data",t.trigger.bind(t,"id3Frame")),t},yd=function(e){var t={type:"aac",tracks:{audio:null},metadataStream:new qe.MetadataStream,aacStream:new gd,audioRollover:new qe.TimestampRolloverStream("audio"),timedMetadataRollover:new qe.TimestampRolloverStream("timed-metadata"),adtsStream:new md(!0)};return t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioRollover).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataRollover).pipe(t.metadataStream),t.metadataStream.on("timestamp",function(n){t.aacStream.setTimestamp(n.timeStamp)}),t.aacStream.on("data",function(n){n.type!=="timed-metadata"&&n.type!=="audio"||t.audioSegmentStream||(t.tracks.audio=t.tracks.audio||{timelineStartInfo:{baseMediaDecodeTime:e.baseMediaDecodeTime},codec:"adts",type:"audio"},t.audioSegmentStream=new gl(t.tracks.audio,e),t.audioSegmentStream.on("data",function(r){t.trigger("data",{type:"audio",data:r})}),t.audioSegmentStream.on("partialdone",t.trigger.bind(t,"partialdone")),t.audioSegmentStream.on("done",t.trigger.bind(t,"done")),t.audioSegmentStream.on("endedtimeline",t.trigger.bind(t,"endedtimeline")),t.audioSegmentStream.on("timingInfo",t.trigger.bind(t,"audioTimingInfo")),t.adtsStream.pipe(t.audioSegmentStream),t.trigger("trackinfo",{hasAudio:!!t.tracks.audio,hasVideo:!!t.tracks.video}))}),t=xl(t),t.metadataStream.on("data",t.trigger.bind(t,"id3Frame")),t},Qs=function(e,t){e.on("data",t.trigger.bind(t,"data")),e.on("done",t.trigger.bind(t,"done")),e.on("partialdone",t.trigger.bind(t,"partialdone")),e.on("endedtimeline",t.trigger.bind(t,"endedtimeline")),e.on("audioTimingInfo",t.trigger.bind(t,"audioTimingInfo")),e.on("videoTimingInfo",t.trigger.bind(t,"videoTimingInfo")),e.on("trackinfo",t.trigger.bind(t,"trackinfo")),e.on("id3Frame",function(n){n.dispatchType=e.metadataStream.dispatchType,n.cueTime=mr.videoTsToSeconds(n.pts),t.trigger("id3Frame",n)}),e.on("caption",function(n){t.trigger("caption",n)})},yl=function i(e){var t=null,n=!0;e=e||{},i.prototype.init.call(this),e.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.push=function(r){if(n){var s=pd(r);s&&(!t||t.type!=="aac")?(t=yd(e),Qs(t,this)):!s&&(!t||t.type!=="ts")&&(t=xd(e),Qs(t,this)),n=!1}t.headOfPipeline.push(r)},this.flush=function(){t&&(n=!0,t.headOfPipeline.flush())},this.partialFlush=function(){t&&t.headOfPipeline.partialFlush()},this.endTimeline=function(){t&&t.headOfPipeline.endTimeline()},this.reset=function(){t&&t.headOfPipeline.reset()},this.setBaseMediaDecodeTime=function(r){e.keepOriginalTimestamps||(e.baseMediaDecodeTime=r),t&&(t.tracks.audio&&(t.tracks.audio.timelineStartInfo.dts=void 0,t.tracks.audio.timelineStartInfo.pts=void 0,Zs.clearDtsInfo(t.tracks.audio),t.audioRollover&&t.audioRollover.discontinuity()),t.tracks.video&&(t.videoSegmentStream&&(t.videoSegmentStream.gopCache_=[]),t.tracks.video.timelineStartInfo.dts=void 0,t.tracks.video.timelineStartInfo.pts=void 0,Zs.clearDtsInfo(t.tracks.video)),t.timestampRollover&&t.timestampRollover.discontinuity())},this.setRemux=function(r){e.remux=r,t&&t.coalesceStream&&t.coalesceStream.setRemux(r)},this.setAudioAppendStart=function(r){!t||!t.tracks.audio||!t.audioSegmentStream||t.audioSegmentStream.setAudioAppendStart(r)},this.alignGopsWith=function(r){}};yl.prototype=new ml;var vd=yl,Sd={Transmuxer:vd},Yn,ea;function bd(){if(ea)return Yn;ea=1;var i=Rt.getUint64,e=function(n){var r=new DataView(n.buffer,n.byteOffset,n.byteLength),s={version:n[0],flags:new Uint8Array(n.subarray(1,4)),references:[],referenceId:r.getUint32(4),timescale:r.getUint32(8)},a=12;s.version===0?(s.earliestPresentationTime=r.getUint32(a),s.firstOffset=r.getUint32(a+4),a+=8):(s.earliestPresentationTime=i(n.subarray(a)),s.firstOffset=i(n.subarray(a+8)),a+=16),a+=2;var o=r.getUint16(a);for(a+=2;o>0;a+=12,o--)s.references.push({referenceType:(n[a]&128)>>>7,referencedSize:r.getUint32(a)&2147483647,subsegmentDuration:r.getUint32(a+4),startsWithSap:!!(n[a+8]&128),sapType:(n[a+8]&112)>>>4,sapDeltaTime:r.getUint32(a+8)&268435455});return s};return Yn=e,Yn}var vl=Rt;vl.MAX_UINT32;var ta=vl.getUint64,le,gr,Ce=function(e){return new Date(e*1e3-20828448e5)},oi=Wr,Td=zr,_d=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=[],r,s;for(r=0;r+4<e.length;r+=s){if(s=t.getUint32(r),r+=4,s<=0){n.push("<span style='color:red;'>MALFORMED DATA</span>");continue}switch(e[r]&31){case 1:n.push("slice_layer_without_partitioning_rbsp");break;case 5:n.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:n.push("sei_rbsp");break;case 7:n.push("seq_parameter_set_rbsp");break;case 8:n.push("pic_parameter_set_rbsp");break;case 9:n.push("access_unit_delimiter_rbsp");break;default:n.push("UNKNOWN NAL - "+e[r]&31);break}}return n},at={avc1:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:le(e.subarray(78,e.byteLength))}},avcC:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={configurationVersion:e[0],avcProfileIndication:e[1],profileCompatibility:e[2],avcLevelIndication:e[3],lengthSizeMinusOne:e[4]&3,sps:[],pps:[]},r=e[5]&31,s,a,o,l;for(o=6,l=0;l<r;l++)a=t.getUint16(o),o+=2,n.sps.push(new Uint8Array(e.subarray(o,o+a))),o+=a;for(s=e[o],o++,l=0;l<s;l++)a=t.getUint16(o),o+=2,n.pps.push(new Uint8Array(e.subarray(o,o+a))),o+=a;return n},btrt:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},edts:function(e){return{boxes:le(e)}},elst:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),edits:[]},r=t.getUint32(4),s;for(s=8;r;r--)n.version===0?(n.edits.push({segmentDuration:t.getUint32(s),mediaTime:t.getInt32(s+4),mediaRate:t.getUint16(s+8)+t.getUint16(s+10)/(256*256)}),s+=12):(n.edits.push({segmentDuration:ta(e.subarray(s)),mediaTime:ta(e.subarray(s+8)),mediaRate:t.getUint16(s+16)+t.getUint16(s+18)/(256*256)}),s+=20);return n},esds:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),esId:e[6]<<8|e[7],streamPriority:e[8]&31,decoderConfig:{objectProfileIndication:e[11],streamType:e[12]>>>2&63,bufferSize:e[13]<<16|e[14]<<8|e[15],maxBitrate:e[16]<<24|e[17]<<16|e[18]<<8|e[19],avgBitrate:e[20]<<24|e[21]<<16|e[22]<<8|e[23],decoderConfigDescriptor:{tag:e[24],length:e[25],audioObjectType:e[26]>>>3&31,samplingFrequencyIndex:(e[26]&7)<<1|e[27]>>>7&1,channelConfiguration:e[27]>>>3&15}}}},ftyp:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={majorBrand:oi(e.subarray(0,4)),minorVersion:t.getUint32(4),compatibleBrands:[]},r=8;r<e.byteLength;)n.compatibleBrands.push(oi(e.subarray(r,r+4))),r+=4;return n},dinf:function(e){return{boxes:le(e)}},dref:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),dataReferences:le(e.subarray(8))}},hdlr:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),handlerType:oi(e.subarray(8,12)),name:""},r=8;for(r=24;r<e.byteLength;r++){if(e[r]===0){r++;break}n.name+=String.fromCharCode(e[r])}return n.name=decodeURIComponent(escape(n.name)),n},mdat:function(e){return{byteLength:e.byteLength,nals:_d(e)}},mdhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,r,s={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),language:""};return s.version===1?(n+=4,s.creationTime=Ce(t.getUint32(n)),n+=8,s.modificationTime=Ce(t.getUint32(n)),n+=4,s.timescale=t.getUint32(n),n+=8,s.duration=t.getUint32(n)):(s.creationTime=Ce(t.getUint32(n)),n+=4,s.modificationTime=Ce(t.getUint32(n)),n+=4,s.timescale=t.getUint32(n),n+=4,s.duration=t.getUint32(n)),n+=4,r=t.getUint16(n),s.language+=String.fromCharCode((r>>10)+96),s.language+=String.fromCharCode(((r&992)>>5)+96),s.language+=String.fromCharCode((r&31)+96),s},mdia:function(e){return{boxes:le(e)}},mfhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sequenceNumber:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},minf:function(e){return{boxes:le(e)}},mp4a:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return e.byteLength>28&&(n.streamDescriptor=le(e.subarray(28))[0]),n},moof:function(e){return{boxes:le(e)}},moov:function(e){return{boxes:le(e)}},mvex:function(e){return{boxes:le(e)}},mvhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,r={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return r.version===1?(n+=4,r.creationTime=Ce(t.getUint32(n)),n+=8,r.modificationTime=Ce(t.getUint32(n)),n+=4,r.timescale=t.getUint32(n),n+=8,r.duration=t.getUint32(n)):(r.creationTime=Ce(t.getUint32(n)),n+=4,r.modificationTime=Ce(t.getUint32(n)),n+=4,r.timescale=t.getUint32(n),n+=4,r.duration=t.getUint32(n)),n+=4,r.rate=t.getUint16(n)+t.getUint16(n+2)/16,n+=4,r.volume=t.getUint8(n)+t.getUint8(n+1)/8,n+=2,n+=2,n+=2*4,r.matrix=new Uint32Array(e.subarray(n,n+9*4)),n+=9*4,n+=6*4,r.nextTrackId=t.getUint32(n),r},pdin:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},n;for(n=4;n<e.byteLength;n++)t.samples.push({dependsOn:(e[n]&48)>>4,isDependedOn:(e[n]&12)>>2,hasRedundancy:e[n]&3});return t},sidx:bd(),smhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),balance:e[4]+e[5]/256}},stbl:function(e){return{boxes:le(e)}},ctts:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),compositionOffsets:[]},r=t.getUint32(4),s;for(s=8;r;s+=8,r--)n.compositionOffsets.push({sampleCount:t.getUint32(s),sampleOffset:t[n.version===0?"getUint32":"getInt32"](s+4)});return n},stss:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),syncSamples:[]},r=t.getUint32(4),s;for(s=8;r;s+=4,r--)n.syncSamples.push(t.getUint32(s));return n},stco:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),chunkOffsets:[]},r=t.getUint32(4),s;for(s=8;r;s+=4,r--)n.chunkOffsets.push(t.getUint32(s));return n},stsc:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=t.getUint32(4),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleToChunks:[]},s;for(s=8;n;s+=12,n--)r.sampleToChunks.push({firstChunk:t.getUint32(s),samplesPerChunk:t.getUint32(s+4),sampleDescriptionIndex:t.getUint32(s+8)});return r},stsd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleDescriptions:le(e.subarray(8))}},stsz:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleSize:t.getUint32(4),entries:[]},r;for(r=12;r<e.byteLength;r+=4)n.entries.push(t.getUint32(r));return n},stts:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),timeToSamples:[]},r=t.getUint32(4),s;for(s=8;r;s+=8,r--)n.timeToSamples.push({sampleCount:t.getUint32(s),sampleDelta:t.getUint32(s+4)});return n},styp:function(e){return at.ftyp(e)},tfdt:qr,tfhd:jr,tkhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,r={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return r.version===1?(n+=4,r.creationTime=Ce(t.getUint32(n)),n+=8,r.modificationTime=Ce(t.getUint32(n)),n+=4,r.trackId=t.getUint32(n),n+=4,n+=8,r.duration=t.getUint32(n)):(r.creationTime=Ce(t.getUint32(n)),n+=4,r.modificationTime=Ce(t.getUint32(n)),n+=4,r.trackId=t.getUint32(n),n+=4,n+=4,r.duration=t.getUint32(n)),n+=4,n+=2*4,r.layer=t.getUint16(n),n+=2,r.alternateGroup=t.getUint16(n),n+=2,r.volume=t.getUint8(n)+t.getUint8(n+1)/8,n+=2,n+=2,r.matrix=new Uint32Array(e.subarray(n,n+9*4)),n+=9*4,r.width=t.getUint16(n)+t.getUint16(n+2)/65536,n+=4,r.height=t.getUint16(n)+t.getUint16(n+2)/65536,r},traf:function(e){return{boxes:le(e)}},trak:function(e){return{boxes:le(e)}},trex:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:e[20]&3,sampleIsDependedOn:(e[21]&192)>>6,sampleHasRedundancy:(e[21]&48)>>4,samplePaddingValue:(e[21]&14)>>1,sampleIsDifferenceSample:!!(e[21]&1),sampleDegradationPriority:t.getUint16(22)}},trun:Kr,"url ":function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4))}},vmhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}};le=function(e){for(var t=0,n=[],r,s,a,o,l,u=new ArrayBuffer(e.length),f=new Uint8Array(u),c=0;c<e.length;++c)f[c]=e[c];for(r=new DataView(u);t<e.byteLength;)s=r.getUint32(t),a=oi(e.subarray(t+4,t+8)),o=s>1?t+s:e.byteLength,l=(at[a]||function(d){return{data:d}})(e.subarray(t+8,o)),l.size=s,l.type=a,n.push(l),t=o;return n};gr=function(e,t){var n;return t=t||0,n=new Array(t*2+1).join(" "),e.map(function(r,s){return n+r.type+`
`+Object.keys(r).filter(function(a){return a!=="type"&&a!=="boxes"}).map(function(a){var o=n+"  "+a+": ",l=r[a];if(l instanceof Uint8Array||l instanceof Uint32Array){var u=Array.prototype.slice.call(new Uint8Array(l.buffer,l.byteOffset,l.byteLength)).map(function(f){return" "+("00"+f.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return u?u.length===1?o+"<"+u.join("").slice(1)+">":o+`<
`+u.map(function(f){return n+"  "+f}).join(`
`)+`
`+n+"  >":o+"<>"}return o+JSON.stringify(l,null,2).split(`
`).map(function(f,c){return c===0?f:n+"  "+f}).join(`
`)}).join(`
`)+(r.boxes?`
`+gr(r.boxes,t+1):"")}).join(`
`)};var wd={inspect:le,textify:gr,parseType:oi,findBox:Td,parseTraf:at.traf,parseTfdt:at.tfdt,parseHdlr:at.hdlr,parseTfhd:at.tfhd,parseTrun:at.trun,parseSidx:at.sidx},Fd={8:"audio",9:"video",18:"metadata"},Ad=function(e){return"0x"+("00"+e.toString(16)).slice(-2).toUpperCase()},xr=function(e){for(var t=[],n;e.byteLength>0;)n=0,t.push(Ad(e[n++])),e=e.subarray(n);return t.join(" ")},Cd=function(e,t){var n=["AVC Sequence Header","AVC NALU","AVC End-of-Sequence"],r=e[1]&parseInt("01111111",2)<<16|e[2]<<8|e[3];return t=t||{},t.avcPacketType=n[e[0]],t.CompositionTime=e[1]&parseInt("10000000",2)?-r:r,e[0]===1?t.nalUnitTypeRaw=xr(e.subarray(4,100)):t.data=xr(e.subarray(4)),t},Pd=function(e,t){var n=["Unknown","Keyframe (for AVC, a seekable frame)","Inter frame (for AVC, a nonseekable frame)","Disposable inter frame (H.263 only)","Generated keyframe (reserved for server use only)","Video info/command frame"],r=e[0]&parseInt("00001111",2);return t=t||{},t.frameType=n[(e[0]&parseInt("11110000",2))>>>4],t.codecID=r,r===7?Cd(e.subarray(1),t):t},Dd=function(e,t){var n=["AAC Sequence Header","AAC Raw"];return t=t||{},t.aacPacketType=n[e[0]],t.data=xr(e.subarray(1)),t},Ed=function(e,t){var n=["Linear PCM, platform endian","ADPCM","MP3","Linear PCM, little endian","Nellymoser 16-kHz mono","Nellymoser 8-kHz mono","Nellymoser","G.711 A-law logarithmic PCM","G.711 mu-law logarithmic PCM","reserved","AAC","Speex","MP3 8-Khz","Device-specific sound"],r=["5.5-kHz","11-kHz","22-kHz","44-kHz"],s=(e[0]&parseInt("11110000",2))>>>4;return t=t||{},t.soundFormat=n[s],t.soundRate=r[(e[0]&parseInt("00001100",2))>>>2],t.soundSize=(e[0]&parseInt("00000010",2))>>>1?"16-bit":"8-bit",t.soundType=e[0]&parseInt("00000001",2)?"Stereo":"Mono",s===10?Dd(e.subarray(1),t):t},Ud=function(e){return{tagType:Fd[e[0]],dataSize:e[1]<<16|e[2]<<8|e[3],timestamp:e[7]<<24|e[4]<<16|e[5]<<8|e[6],streamID:e[8]<<16|e[9]<<8|e[10]}},Sl=function(e){var t=Ud(e);switch(e[0]){case 8:Ed(e.subarray(11),t);break;case 9:Pd(e.subarray(11),t);break}return t},Id=function(e){var t=9,n,r=[],s;for(t+=4;t<e.byteLength;)n=e[t+1]<<16,n|=e[t+2]<<8,n|=e[t+3],n+=11,s=e.subarray(t,t+n),r.push(Sl(s)),t+=n+4;return r},Od=function(e){return JSON.stringify(e,null,2)},Md={inspectTag:Sl,inspect:Id,textify:Od},Xn=Sn,bl=function(e){var t=e[1]&31;return t<<=8,t|=e[2],t},wn=function(e){return!!(e[1]&64)},Fn=function(e){var t=0;return(e[3]&48)>>>4>1&&(t+=e[4]+1),t},Ld=function(e,t){var n=bl(e);return n===0?"pat":n===t?"pmt":t?"pes":null},Rd=function(e){var t=wn(e),n=4+Fn(e);return t&&(n+=e[n]+1),(e[n+10]&31)<<8|e[n+11]},Nd=function(e){var t={},n=wn(e),r=4+Fn(e);if(n&&(r+=e[r]+1),!!(e[r+5]&1)){var s,a,o;s=(e[r+1]&15)<<8|e[r+2],a=3+s-4,o=(e[r+10]&15)<<8|e[r+11];for(var l=12+o;l<a;){var u=r+l;t[(e[u+1]&31)<<8|e[u+2]]=e[u],l+=((e[u+3]&15)<<8|e[u+4])+5}return t}},Bd=function(e,t){var n=bl(e),r=t[n];switch(r){case Xn.H264_STREAM_TYPE:return"video";case Xn.ADTS_STREAM_TYPE:return"audio";case Xn.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},$d=function(e){var t=wn(e);if(!t)return null;var n=4+Fn(e);if(n>=e.byteLength)return null;var r=null,s;return s=e[n+7],s&192&&(r={},r.pts=(e[n+9]&14)<<27|(e[n+10]&255)<<20|(e[n+11]&254)<<12|(e[n+12]&255)<<5|(e[n+13]&254)>>>3,r.pts*=4,r.pts+=(e[n+13]&6)>>>1,r.dts=r.pts,s&64&&(r.dts=(e[n+14]&14)<<27|(e[n+15]&255)<<20|(e[n+16]&254)<<12|(e[n+17]&255)<<5|(e[n+18]&254)>>>3,r.dts*=4,r.dts+=(e[n+18]&6)>>>1)),r},Jn=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Vd=function(e){for(var t=4+Fn(e),n=e.subarray(t),r=0,s=0,a=!1,o;s<n.byteLength-3;s++)if(n[s+2]===1){r=s+5;break}for(;r<n.byteLength;)switch(n[r]){case 0:if(n[r-1]!==0){r+=2;break}else if(n[r-2]!==0){r++;break}s+3!==r-2&&(o=Jn(n[s+3]&31),o==="slice_layer_without_partitioning_rbsp_idr"&&(a=!0));do r++;while(n[r]!==1&&r<n.length);s=r-2,r+=3;break;case 1:if(n[r-1]!==0||n[r-2]!==0){r+=3;break}o=Jn(n[s+3]&31),o==="slice_layer_without_partitioning_rbsp_idr"&&(a=!0),s=r-2,r+=3;break;default:r+=3;break}return n=n.subarray(s),r-=s,s=0,n&&n.byteLength>3&&(o=Jn(n[s+3]&31),o==="slice_layer_without_partitioning_rbsp_idr"&&(a=!0)),a},kd={parseType:Ld,parsePat:Rd,parsePmt:Nd,parsePayloadUnitStartIndicator:wn,parsePesType:Bd,parsePesTime:$d,videoPacketContainsKeyFrame:Vd},ia=Sn,wt=tl.handleRollover,q={};q.ts=kd;q.aac=Tn;var mt=ft.ONE_SECOND_IN_TS,he=188,Ve=71,Hd=function(e,t){for(var n=0,r=he,s,a;r<e.byteLength;){if(e[n]===Ve&&e[r]===Ve){switch(s=e.subarray(n,r),a=q.ts.parseType(s,t.pid),a){case"pat":t.pid=q.ts.parsePat(s);break;case"pmt":var o=q.ts.parsePmt(s);t.table=t.table||{},Object.keys(o).forEach(function(l){t.table[l]=o[l]});break}n+=he,r+=he;continue}n++,r++}},Tl=function(e,t,n){for(var r=0,s=he,a,o,l,u,f,c=!1;s<=e.byteLength;){if(e[r]===Ve&&(e[s]===Ve||s===e.byteLength)){switch(a=e.subarray(r,s),o=q.ts.parseType(a,t.pid),o){case"pes":l=q.ts.parsePesType(a,t.table),u=q.ts.parsePayloadUnitStartIndicator(a),l==="audio"&&u&&(f=q.ts.parsePesTime(a),f&&(f.type="audio",n.audio.push(f),c=!0));break}if(c)break;r+=he,s+=he;continue}r++,s++}for(s=e.byteLength,r=s-he,c=!1;r>=0;){if(e[r]===Ve&&(e[s]===Ve||s===e.byteLength)){switch(a=e.subarray(r,s),o=q.ts.parseType(a,t.pid),o){case"pes":l=q.ts.parsePesType(a,t.table),u=q.ts.parsePayloadUnitStartIndicator(a),l==="audio"&&u&&(f=q.ts.parsePesTime(a),f&&(f.type="audio",n.audio.push(f),c=!0));break}if(c)break;r-=he,s-=he;continue}r--,s--}},Gd=function(e,t,n){for(var r=0,s=he,a,o,l,u,f,c,d,m,g=!1,x={data:[],size:0};s<e.byteLength;){if(e[r]===Ve&&e[s]===Ve){switch(a=e.subarray(r,s),o=q.ts.parseType(a,t.pid),o){case"pes":if(l=q.ts.parsePesType(a,t.table),u=q.ts.parsePayloadUnitStartIndicator(a),l==="video"&&(u&&!g&&(f=q.ts.parsePesTime(a),f&&(f.type="video",n.video.push(f),g=!0)),!n.firstKeyFrame)){if(u&&x.size!==0){for(c=new Uint8Array(x.size),d=0;x.data.length;)m=x.data.shift(),c.set(m,d),d+=m.byteLength;if(q.ts.videoPacketContainsKeyFrame(c)){var F=q.ts.parsePesTime(c);F?(n.firstKeyFrame=F,n.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}x.size=0}x.data.push(a),x.size+=a.byteLength}break}if(g&&n.firstKeyFrame)break;r+=he,s+=he;continue}r++,s++}for(s=e.byteLength,r=s-he,g=!1;r>=0;){if(e[r]===Ve&&e[s]===Ve){switch(a=e.subarray(r,s),o=q.ts.parseType(a,t.pid),o){case"pes":l=q.ts.parsePesType(a,t.table),u=q.ts.parsePayloadUnitStartIndicator(a),l==="video"&&u&&(f=q.ts.parsePesTime(a),f&&(f.type="video",n.video.push(f),g=!0));break}if(g)break;r-=he,s-=he;continue}r--,s--}},Wd=function(e,t){if(e.audio&&e.audio.length){var n=t;(typeof n>"u"||isNaN(n))&&(n=e.audio[0].dts),e.audio.forEach(function(a){a.dts=wt(a.dts,n),a.pts=wt(a.pts,n),a.dtsTime=a.dts/mt,a.ptsTime=a.pts/mt})}if(e.video&&e.video.length){var r=t;if((typeof r>"u"||isNaN(r))&&(r=e.video[0].dts),e.video.forEach(function(a){a.dts=wt(a.dts,r),a.pts=wt(a.pts,r),a.dtsTime=a.dts/mt,a.ptsTime=a.pts/mt}),e.firstKeyFrame){var s=e.firstKeyFrame;s.dts=wt(s.dts,r),s.pts=wt(s.pts,r),s.dtsTime=s.dts/mt,s.ptsTime=s.pts/mt}}},zd=function(e){for(var t=!1,n=0,r=null,s=null,a=0,o=0,l;e.length-o>=3;){var u=q.aac.parseType(e,o);switch(u){case"timed-metadata":if(e.length-o<10){t=!0;break}if(a=q.aac.parseId3TagSize(e,o),a>e.length){t=!0;break}s===null&&(l=e.subarray(o,o+a),s=q.aac.parseAacTimestamp(l)),o+=a;break;case"audio":if(e.length-o<7){t=!0;break}if(a=q.aac.parseAdtsSize(e,o),a>e.length){t=!0;break}r===null&&(l=e.subarray(o,o+a),r=q.aac.parseSampleRate(l)),n++,o+=a;break;default:o++;break}if(t)return null}if(r===null||s===null)return null;var f=mt/r,c={audio:[{type:"audio",dts:s,pts:s},{type:"audio",dts:s+n*1024*f,pts:s+n*1024*f}]};return c},jd=function(e){var t={pid:null,table:null},n={};Hd(e,t);for(var r in t.table)if(t.table.hasOwnProperty(r)){var s=t.table[r];switch(s){case ia.H264_STREAM_TYPE:n.video=[],Gd(e,t,n),n.video.length===0&&delete n.video;break;case ia.ADTS_STREAM_TYPE:n.audio=[],Tl(e,t,n),n.audio.length===0&&delete n.audio;break}}return n},Kd=function(e,t){var n=q.aac.isLikelyAacData(e),r;return n?r=zd(e):r=jd(e),!r||!r.audio&&!r.video?null:(Wd(r,t),r)},qd={inspect:Kd,parseAudioPes_:Tl},An={codecs:fo,mp4:Kc,flv:rd,mp2t:sd,partial:Sd};An.mp4.tools=wd;An.flv.tools=Md;An.mp2t.tools=qd;var Yd=An;const Xd=tu(Yd);async function Jd(i,e={}){let t=!1,n=[],r=[],s=[0],a=0,o=[0],l=[0],u=[],f=!0,c=0,d="",m=null,g=e;if(t){e.onError&&e.onError(new Error("\u6B63\u5728\u4E0B\u8F7D\u4E2D\uFF0C\u8BF7\u7A0D\u540E..."));return}if(i.toLowerCase().indexOf("m3u8")===-1){e.onError&&e.onError(new Error("\u94FE\u63A5\u683C\u5F0F\u4E0D\u6B63\u786E\uFF0C\u8BF7\u786E\u4FDD\u662FM3U8\u683C\u5F0F"));return}f=!0,t=!0,m=new Date;try{d=new URL(i).searchParams.get("title")||""}catch{d=""}!d&&e.filename&&(d=e.filename),e.onProgress&&e.onProgress(0,0,0,"\u5F00\u59CB\u4E0B\u8F7DM3U8\u6587\u4EF6...");try{await x(i),t=!1}catch(M){console.error("\u4E0B\u8F7D\u5931\u8D25:",M),t=!1,e.onError&&e.onError(M)}async function x(M){const L=await na(M);if(n.length=0,r.length=0,s[0]=0,o[0]=0,l[0]=0,u.length=0,c=0,L.split(`
`).forEach(V=>{/^[^#]/.test(V)&&V.trim()&&(n.push(Zd(V,M)),r.push({title:V,status:""}))}),a=n.length,a===0)throw new Error("\u6CA1\u6709\u627E\u5230\u6709\u6548\u7684\u89C6\u9891\u7247\u6BB5");f&&L.split(`
`).forEach(V=>{V.toUpperCase().indexOf("#EXTINF:")>-1&&(c+=parseFloat(V.split("#EXTINF:")[1]))}),g.onProgress&&g.onProgress(0,a,0,`\u627E\u5230${a}\u4E2A\u89C6\u9891\u7247\u6BB5\uFF0C\u5F00\u59CB\u4E0B\u8F7D...`),P()}const F=()=>{let M=0;for(let L=0;L<r.length;L++)(r[L].status==="finish"||r[L].status==="error")&&M++;return console.log(`\u5DF2\u5B8C\u6210: ${M}/${a}, \u6210\u529F: ${o[0]}, \u9519\u8BEF: ${l[0]}`),M===a?(g.onProgress&&g.onProgress(a,a,l[0],"\u4E0B\u8F7D\u5B8C\u6210\uFF0C\u5F00\u59CB\u4FDD\u5B58\u6587\u4EF6..."),setTimeout(()=>{U()},500),!0):!1};function P(){const M=()=>{const L=s[0];if(L>=a){F();return}s[0]++,r[L]&&r[L].status===""?(r[L].status="downloading",na(n[L],"file").then(V=>E(V,L,M)).catch(()=>{l[0]++,r[L].status="error",g.onProgress&&g.onProgress(o[0],a,l[0],`\u4E0B\u8F7D\u8FDB\u5EA6: ${o[0]}/${a}, \u9519\u8BEF: ${l[0]}`),F()||M()})):M()};for(let L=0;L<Math.min(10,a);L++)M()}async function E(M,L,V){try{const te=await G(M,L);u[L]=te,r[L].status="finish",o[0]++,g.onProgress&&g.onProgress(o[0],a,l[0],`\u4E0B\u8F7D\u8FDB\u5EA6: ${o[0]}/${a}, \u9519\u8BEF: ${l[0]}`),F()||V&&V()}catch(te){console.error("\u5904\u7406TS\u7247\u6BB5\u5931\u8D25:",te),l[0]++,r[L].status="error",F()||V&&V()}}function G(M,L){return new Promise(V=>{const te=new Xd.mp4.Transmuxer({keepOriginalTimestamps:!0,duration:parseInt(c)});te.on("data",se=>{if(L===0){const H=new Uint8Array(se.initSegment.byteLength+se.data.byteLength);H.set(se.initSegment,0),H.set(se.data,se.initSegment.byteLength),V(H.buffer)}else V(se.data)}),te.push(new Uint8Array(M)),te.flush()})}function U(){const M=d||Qd(m,"YYYY_MM_DD hh_mm_ss"),L=new Blob(u,{type:"video/mp4"}),V=M+".mp4",te=URL.createObjectURL(L),se=document.createElement("a");se.href=te,se.download=V,document.body.appendChild(se),se.click(),document.body.removeChild(se),URL.revokeObjectURL(te),g.onSuccess&&g.onSuccess({blob:L,filename:V,mimeType:"video/mp4",size:L.size})}}function Zd(i,e){if(e=e||window.location.href,i.indexOf("http")===0)return window.location.href.indexOf("https")===0?i.replace("http://","https://"):i;if(i[0]==="/"){const t=e.split("/");return t[0]+"//"+t[2]+i}else{const t=e.split("/");return t.pop(),t.join("/")+"/"+i}}function na(i,e="text"){return new Promise((t,n)=>{const r=new XMLHttpRequest;e==="file"&&(r.responseType="arraybuffer"),r.onreadystatechange=function(){r.readyState===4&&(r.status>=200&&r.status<300?t(r.response):n(new Error(`HTTP ${r.status}`)))},r.onerror=function(){n(new Error("\u7F51\u7EDC\u8BF7\u6C42\u5931\u8D25"))},r.open("GET",i,!0),r.send(null)})}function Qd(i,e){const t={Y:i.getFullYear(),M:i.getMonth()+1,D:i.getDate(),h:i.getHours(),m:i.getMinutes(),s:i.getSeconds()};return e.replace(/Y+|M+|D+|h+|m+|s+/g,n=>(new Array(n.length).join("0")+t[n[0]]).substr(-n.length))}const eh="https://sf1-cdn-tos.huoshanstatic.com/obj/media-fe/xgplayer_doc_video/hls/xgplayer-demo.m3u8",th={__name:"App",setup(i){const e=()=>{Jd(eh,{onProgress:(t,n,r)=>console.log(`\u8FDB\u5EA6: ${t}/${n}, \u9519\u8BEF: ${r}`),onSuccess:t=>console.log("\u4E0B\u8F7D\u5B8C\u6210",t),onError:t=>console.error("\u4E0B\u8F7D\u5931\u8D25",t),filename:"my-video"})};return(t,n)=>(cf(),pf("div",null,[Rr("button",{onClick:e},"\u70B9\u51FB\u4E0B\u8F7D\u89C6\u9891\u6D41")]))}},ih=Zf(th);ih.mount("#app");
